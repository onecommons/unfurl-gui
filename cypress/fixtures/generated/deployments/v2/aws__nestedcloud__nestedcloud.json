{"repositories":{"std":{"url":"https://unfurl.cloud/onecommons/std.git","file":"dummy-ensemble.yaml"},"discourse":{"url":"https://unfurl.cloud/onecommons/blueprints/discourse.git","file":"ensemble-template.yaml"}},"ResourceType":{"DiscourseApp@unfurl.cloud/onecommons/blueprints/discourse:ensemble-template.yaml#spec/service_template":{"name":"DiscourseApp@unfurl.cloud/onecommons/blueprints/discourse:ensemble-template.yaml#spec/service_template","title":"DiscourseApp","description":"","__typename":"ResourceType","extends":["DiscourseApp@unfurl.cloud/onecommons/blueprints/discourse:ensemble-template.yaml#spec/service_template","unfurl.nodes.WebApp@unfurl.cloud/onecommons/std:generic_types","WebApp@unfurl.cloud/onecommons/std:generic_types","_ContainerAppBase@unfurl.cloud/onecommons/std:generic_types","App@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"container","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":"container","resourceType":"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"resourceType":"HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types"}]},{"name":"sidekiqcontainer","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":"sidekiqcontainer","resourceType":"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"","__typename":"RequirementConstraint","requirementsFilter":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Sidekiq Compute"}]}]},{"name":"db","description":"External database for Discourse","__typename":"RequirementConstraint","title":"Database Instance","min":1,"max":1,"match":null,"resourceType":"PostgresDB@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"database_name":null}}},{"name":"redis","description":"External cache for discourse","__typename":"RequirementConstraint","title":"Redis Cache","min":1,"max":1,"match":null,"resourceType":"Redis@unfurl.cloud/onecommons/std:generic_types"},{"name":"mail","description":"Mail server for discourse","__typename":"RequirementConstraint","title":"Mail Server","min":0,"max":1,"match":null,"resourceType":"SMTPServer@unfurl.cloud/onecommons/std:generic_types"}],"inputsSchema":{"type":"object","properties":{"discourse_version":{"title":"Discourse Version","default":"2.8.11","required":true,"description":"Version of Discourse","user_settable":true,"type":"string","pattern":"^([^\\s^\\/])+$"},"sitename":{"title":"Sitename","default":"My site!","required":true,"description":"The title of the site, the words on the tab","user_settable":true,"type":"string"},"admin_user":{"title":"Admin username","default":"admin","required":true,"description":"Name of the admin account","user_settable":true,"type":"string","pattern":".{1,}"},"admin_pass":{"title":"Admin password","default":{"_generate":{"preset":"password"}},"required":true,"description":"Password of the admin account","user_settable":true,"sensitive":true,"type":"string","pattern":".{1,}"},"admin_email":{"title":"Admin email","default":"your_email@gmail.com","required":true,"description":"Email of the admin account","user_settable":true,"type":"string","pattern":".{1,}"},"subdomain":{"title":"Subdomain","default":"discourse","required":true,"description":"Choose a subdomain for your deployment. A subdomain of 'www', will be at www.your.domain","user_settable":true,"type":"string","pattern":"^[a-z0-9]([-a-z0-9]*[a-z0-9])*$"},"database_name":{"title":"Database Name","default":"discourse","required":true,"description":"Preferred name for Discourse database","user_settable":true,"type":"string"}}},"_sourceinfo":{"file":"ensemble-template.yaml#spec/service_template","repository":"discourse","url":"https://unfurl.cloud/onecommons/blueprints/discourse.git"},"implementations":["create"],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"health_check_url":{"title":"health_check_url","required":true,"export":true,"hidden":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","export":true,"hidden":true,"$toscatype":"integer","type":"number"}}},"outputsSchema":{"type":"object","properties":{}},"directives":["substitute"]},"unfurl.nodes.WebApp@unfurl.cloud/onecommons/std:generic_types":{"name":"unfurl.nodes.WebApp@unfurl.cloud/onecommons/std:generic_types","title":"WebApp","description":"","__typename":"ResourceType","extends":["unfurl.nodes.WebApp@unfurl.cloud/onecommons/std:generic_types","WebApp@unfurl.cloud/onecommons/std:generic_types","_ContainerAppBase@unfurl.cloud/onecommons/std:generic_types","App@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"container","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"ContainerService@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"resourceType":"HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types"}]}],"inputsSchema":{"type":"object","properties":{"subdomain":{"title":"Subdomain","default":"www","required":true,"description":"Choose a subdomain for your deployment. A subdomain of 'www', will be at www.your.domain","user_settable":true,"type":"string","pattern":"^[a-z0-9]([-a-z0-9]*[a-z0-9])*$"}}},"metadata":{"alias":true,"deprecated":true},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["create"],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"health_check_url":{"title":"health_check_url","required":true,"export":true,"hidden":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","export":true,"hidden":true,"$toscatype":"integer","type":"number"}}},"outputsSchema":{"type":"object","properties":{}}},"WebApp@unfurl.cloud/onecommons/std:generic_types":{"name":"WebApp@unfurl.cloud/onecommons/std:generic_types","title":"WebApp","description":"","__typename":"ResourceType","extends":["WebApp@unfurl.cloud/onecommons/std:generic_types","_ContainerAppBase@unfurl.cloud/onecommons/std:generic_types","App@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"container","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"ContainerService@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"resourceType":"HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types"}]}],"inputsSchema":{"type":"object","properties":{"subdomain":{"title":"Subdomain","default":"www","required":true,"description":"Choose a subdomain for your deployment. A subdomain of 'www', will be at www.your.domain","user_settable":true,"type":"string","pattern":"^[a-z0-9]([-a-z0-9]*[a-z0-9])*$"}}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"health_check_url":{"title":"health_check_url","required":true,"export":true,"hidden":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","export":true,"hidden":true,"$toscatype":"integer","type":"number"}}},"outputsSchema":{"type":"object","properties":{}}},"_ContainerAppBase@unfurl.cloud/onecommons/std:generic_types":{"name":"_ContainerAppBase@unfurl.cloud/onecommons/std:generic_types","title":"_ContainerAppBase","description":"","__typename":"ResourceType","extends":["_ContainerAppBase@unfurl.cloud/onecommons/std:generic_types","App@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"container","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"ContainerService@unfurl.cloud/onecommons/std:generic_types"}],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"health_check_url":{"title":"health_check_url","required":true,"export":true,"hidden":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","export":true,"hidden":true,"$toscatype":"integer","type":"number"}}},"outputsSchema":{"type":"object","properties":{}}},"App@unfurl.cloud/onecommons/std:generic_types":{"name":"App@unfurl.cloud/onecommons/std:generic_types","title":"App","description":"","__typename":"ResourceType","extends":["App@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"metadata":{"category":"app"},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"url":{"title":"url","required":true,"type":"string"}}}},"Nestedcloud@unfurl.cloud/user-20240316T012327279Z/dashboard.git/environments/aws-20240316t012327280z/onecommons/blueprints/nestedcloud/nestedcloud-aws:main":{"name":"Nestedcloud@unfurl.cloud/user-20240316T012327279Z/dashboard.git/environments/aws-20240316t012327280z/onecommons/blueprints/nestedcloud/nestedcloud-aws:main","title":"Nestedcloud","description":"","__typename":"ResourceType","extends":["Nestedcloud@unfurl.cloud/user-20240316T012327279Z/dashboard.git/environments/aws-20240316t012327280z/onecommons/blueprints/nestedcloud/nestedcloud-aws:main","unfurl.nodes.App@unfurl.cloud/onecommons/std:generic_types","App@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"nested","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.WebApp@unfurl.cloud/onecommons/std:generic_types"}],"inputsSchema":{"type":"object","properties":{}},"implementations":["create"],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"url":{"title":"url","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"unfurl.nodes.App@unfurl.cloud/onecommons/std:generic_types":{"name":"unfurl.nodes.App@unfurl.cloud/onecommons/std:generic_types","title":"App","description":"","__typename":"ResourceType","extends":["unfurl.nodes.App@unfurl.cloud/onecommons/std:generic_types","App@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"metadata":{"alias":true,"deprecated":true},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"url":{"title":"url","required":true,"type":"string"}}}},"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types":{"name":"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","title":"ContainerService","description":"","__typename":"ResourceType","extends":["unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","ContainerService@unfurl.cloud/onecommons/std:generic_types","Service@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"ContainerHost@unfurl.cloud/onecommons/std:generic_types"},{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository@unfurl.cloud/onecommons/std:generic_types"}],"inputsSchema":{"type":"object","properties":{"environment":{"title":"environment","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.EnvironmentVariables","type":"object"},"container":{"title":"container","tab_title":"Container","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}}}},"metadata":{"alias":true,"deprecated":true},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"portspecs":{"title":"portspecs","required":true,"description":"Ports the service should be running on.","type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container_image":{"title":"container_image","required":true,"type":"string"},"health_check_url":{"title":"health_check_url","required":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","$toscatype":"integer","type":"number"},"public_ports":{"title":"public_ports","default":false,"required":true,"description":"Whether this service should be exposed to the internet","user_settable":false,"type":"boolean"}}},"outputsSchema":{"type":"object","properties":{}}},"ContainerService@unfurl.cloud/onecommons/std:generic_types":{"name":"ContainerService@unfurl.cloud/onecommons/std:generic_types","title":"ContainerService","description":"","__typename":"ResourceType","extends":["ContainerService@unfurl.cloud/onecommons/std:generic_types","Service@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"ContainerHost@unfurl.cloud/onecommons/std:generic_types"},{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository@unfurl.cloud/onecommons/std:generic_types"}],"inputsSchema":{"type":"object","properties":{"environment":{"title":"environment","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.EnvironmentVariables","type":"object"},"container":{"title":"container","tab_title":"Container","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}}}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"portspecs":{"title":"portspecs","required":true,"description":"Ports the service should be running on.","type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container_image":{"title":"container_image","required":true,"type":"string"},"health_check_url":{"title":"health_check_url","required":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","$toscatype":"integer","type":"number"},"public_ports":{"title":"public_ports","default":false,"required":true,"description":"Whether this service should be exposed to the internet","user_settable":false,"type":"boolean"}}},"outputsSchema":{"type":"object","properties":{}}},"Service@unfurl.cloud/onecommons/std:generic_types":{"name":"Service@unfurl.cloud/onecommons/std:generic_types","title":"Service","description":"","__typename":"ResourceType","extends":["Service@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"ServiceHost@unfurl.cloud/onecommons/std:generic_types"}],"inputsSchema":{"type":"object","properties":{"portspecs":{"title":"portspecs","required":true,"description":"Ports the service should be running on.","type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}}}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}}},"HttpsProxyContainerComputeHost@unfurl.cloud/onecommons/std:generic_types":{"name":"HttpsProxyContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","title":"HTTP Docker Compute Host","description":"","__typename":"ResourceType","extends":["HttpsProxyContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","ContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","ContainerHost@unfurl.cloud/onecommons/std:generic_types","ServiceHost@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"Compute@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"portspecs":null,"public_ports":null}},"requirementsFilter":[{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1}]},{"name":"dns","description":"DNS provider for domain name configuration","__typename":"RequirementConstraint","title":"DNS","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.DNSZone@unfurl:configurators/templates/dns"}],"inputsSchema":{"type":"object","properties":{}},"metadata":{"title":"HTTP Docker Compute Host"},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["configure"],"implementation_requirements":["unfurl.relationships.ConnectsTo.ComputeMachines"],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"protocol":{"title":"protocol","default":"https","required":true,"type":"string"},"health_check_url":{"title":"health_check_url","required":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","default":180,"required":true,"description":"Guestimate when we can expect the deployed app to be ready (in seconds)","$toscatype":"integer","type":"number"},"enable_caddy":{"title":"enable_caddy","default":true,"required":true,"visibility":"hidden","type":"boolean"},"public_dns":{"title":"public_dns","required":true,"description":"Fully qualified domain name.","computed":true,"visibility":"hidden","type":"string"},"mountpoint":{"title":"mountpoint","default":"/var/app/data","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"app_name":{"title":"app_name","required":true,"visibility":"hidden","computed":true,"type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"ContainerComputeHost@unfurl.cloud/onecommons/std:generic_types":{"name":"ContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","title":"ContainerComputeHost","description":"","__typename":"ResourceType","extends":["ContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","ContainerHost@unfurl.cloud/onecommons/std:generic_types","ServiceHost@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"Compute@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"portspecs":null,"public_ports":null}},"requirementsFilter":[{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1}]}],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":["unfurl.relationships.ConnectsTo.ComputeMachines"],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"mountpoint":{"title":"mountpoint","default":"/var/app/data","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"enable_caddy":{"title":"enable_caddy","default":false,"required":true,"visibility":"hidden","type":"boolean"},"app_name":{"title":"app_name","required":true,"visibility":"hidden","computed":true,"type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"ContainerHost@unfurl.cloud/onecommons/std:generic_types":{"name":"ContainerHost@unfurl.cloud/onecommons/std:generic_types","title":"ContainerHost","description":"","__typename":"ResourceType","extends":["ContainerHost@unfurl.cloud/onecommons/std:generic_types","ServiceHost@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"ServiceHost@unfurl.cloud/onecommons/std:generic_types":{"name":"ServiceHost@unfurl.cloud/onecommons/std:generic_types","title":"ServiceHost","description":"","__typename":"ResourceType","extends":["ServiceHost@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types":{"name":"HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types","title":"HTTPSProxyContainerHost","description":"","__typename":"ResourceType","extends":["HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types","ContainerHost@unfurl.cloud/onecommons/std:generic_types","ServiceHost@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"EC2Compute@unfurl.cloud/onecommons/std:aws/compute":{"name":"EC2Compute@unfurl.cloud/onecommons/std:aws/compute","title":"EC2 Instance","description":"","__typename":"ResourceType","extends":["EC2Compute@unfurl.cloud/onecommons/std:aws/compute","Compute@unfurl.cloud/onecommons/std:generic_types","ServiceHost@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"volume_attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"Volume@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"persistent":null}}},{"name":"floating_ip","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"FloatingIP@unfurl.cloud/onecommons/std:generic_types"},{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types"}],"inputsSchema":{"type":"object","properties":{"key_name":{"title":"Key pair","description":"Name of your AWS ssh key pair. Set if you want to be able to SSH into this instance.","type":"string"},"num_cpus":{"title":"CPUs","required":true,"description":"Number of CPUs for the server","$toscatype":"integer","type":"number","minimum":1,"maximum":8},"mem_size":{"title":"Memory","required":true,"description":"Amount of RAM (in MB)","default_unit":"MB","$toscatype":"scalar-unit.size","type":"number","minimum":1000,"maximum":20000},"disk_size":{"title":"Storage","required":true,"description":"Size of boot disk (in GB)","default_unit":"GB","$toscatype":"scalar-unit.size","type":"number","minimum":10,"maximum":2000}}},"badge":"Compute","icon":"/onecommons/std/-/raw/main/icons/ec2.svg","metadata":{"title":"EC2 Instance","icon":"/onecommons/std/-/raw/main/icons/ec2.svg"},"_sourceinfo":{"file":"aws/compute.yaml","repository":"std","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["check","create","default","delete","restart"],"implementation_requirements":["unfurl.relationships.ConnectsTo.AWSAccount"],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"computed":true,"type":"string"},"use_static_ip":{"title":"Use a static IP","default":false,"required":true,"description":"Whether to use a static Elastic IP for this instance. Limit of 5 per region.","user_settable":false,"type":"boolean"},"machine_type":{"title":"machine_type","required":true,"type":"string"},"availability_zone":{"title":"Availability Zone","required":true,"description":"Zone in the region to create the instance in.","tfvar":true,"type":"string"},"portspecs":{"title":"portspecs","default":[],"required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"public_ports":{"title":"public_ports","default":false,"required":true,"description":"Whether this instance should be exposed to the internet","computed":true,"user_settable":false,"type":"boolean"},"name":{"title":"name","required":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"id":{"title":"id","required":true,"type":"string"}}}},"Compute@unfurl.cloud/onecommons/std:generic_types":{"name":"Compute@unfurl.cloud/onecommons/std:generic_types","title":"Compute","description":"","__typename":"ResourceType","extends":["Compute@unfurl.cloud/onecommons/std:generic_types","ServiceHost@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types"},{"name":"volume_attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"Volume@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"persistent":null}}}],"inputsSchema":{"type":"object","properties":{"num_cpus":{"title":"CPUs","required":true,"description":"Number of CPUs for the server","$toscatype":"integer","type":"number","minimum":1,"maximum":8},"mem_size":{"title":"Memory","required":true,"description":"Amount of RAM (in MB)","default_unit":"MB","$toscatype":"scalar-unit.size","type":"number","minimum":1000,"maximum":20000},"disk_size":{"title":"Storage","required":true,"description":"Size of boot disk (in GB)","default_unit":"GB","$toscatype":"scalar-unit.size","type":"number","minimum":10,"maximum":2000}}},"badge":"Compute","metadata":{"badge":"Compute","category":"compute"},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"computed":true,"type":"string"},"portspecs":{"title":"portspecs","default":[],"required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"public_ports":{"title":"public_ports","default":false,"required":true,"description":"Whether this instance should be exposed to the internet","computed":true,"user_settable":false,"type":"boolean"},"name":{"title":"name","required":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"id":{"title":"id","required":true,"type":"string"}}}},"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types":{"name":"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types","title":"CloudInitGenerator","description":"","__typename":"ResourceType","extends":["CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["create"],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"cloud_config":{"title":"cloud_config","required":true,"description":"Rendered template of cloud-init yaml","visibility":"hidden","sensitive":true,"type":"string"}}}},"Route53DNSZone@unfurl.cloud/onecommons/std:dns_services":{"name":"Route53DNSZone@unfurl.cloud/onecommons/std:dns_services","title":"Amazon Web Services DNS","description":"","__typename":"ResourceType","extends":["Route53DNSZone@unfurl.cloud/onecommons/std:dns_services","unfurl.nodes.DNSZone@unfurl:configurators/templates/dns","tosca.nodes.Root","Route53DNSZone@unfurl.cloud/onecommons/unfurl-types","unfurl.capabilities.DNSZone@unfurl:configurators/templates/dns","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone@unfurl:configurators/templates/dns"}],"inputsSchema":{"type":"object","properties":{"access_key_id":{"title":"Access Key ID","default":{"get_env":"AWS_ACCESS_KEY_ID"},"user_settable":true,"type":"string"},"secret_access_key":{"title":"Secret Access Key","default":{"get_env":"AWS_SECRET_ACCESS_KEY"},"sensitive":true,"user_settable":true,"type":"string"},"name":{"title":"Domain Name","required":true,"description":"Top level part of the DNS name (e.g. example.com)","type":"string"}}},"badge":"DNS","icon":"/onecommons/std/-/raw/main/icons/aws-route53.svg","metadata":{"badge":"DNS","title":"Amazon Web Services DNS","icon":"/onecommons/std/-/raw/main/icons/aws-route53.svg","category":"dns","deprecates":"Route53DNSZone@unfurl.cloud/onecommons/unfurl-types"},"_sourceinfo":{"file":"dns_services.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["check","configure","connect","delete"],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"session_token":{"title":"AWS session token","default":{"get_env":"AWS_SESSION_TOKEN"},"sensitive":true,"type":"string"},"provider":{"title":"provider","default":{"class":"octodns.provider.route53.Route53Provider","access_key_id":{"eval":"access_key_id"},"secret_access_key":{"eval":"secret_access_key"},"session_token":{"eval":"session_token"}},"required":true,"description":"OctoDNS provider configuration","sensitive":true,"computed":true,"type":"object"},"records":{"title":"records","default":{},"required":true,"description":"DNS records to add to the zone","computed":true,"type":"object","additionalProperties":{"required":true,"additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DNSRecord","type":"object","properties":{"type":{"title":"type","required":true,"type":"string"},"value":{"title":"value","type":"string"},"values":{"title":"values","type":"array"},"$toscatype":{"const":"unfurl.datatypes.DNSRecord"}}}},"exclusive":{"title":"exclusive","default":false,"required":true,"description":"Zone exclusively managed by this instance (removes unrecognized records)","type":"boolean"},"default_ttl":{"title":"Default TTL","default":300,"required":true,"$toscatype":"integer","type":"number"},"testing":{"title":"Testing","default":false,"required":true,"description":"Is this DNS zone being used for testing? (If set, Let's Encrypt staging will be used.)","type":"boolean"}}},"outputsSchema":{"type":"object","properties":{"zone":{"title":"zone","required":true,"description":"The records found in the zone","internal":true,"type":"object"},"managed_records":{"title":"Managed Records","description":"The records in the zone that are managed by this instance","type":"object"}}}},"unfurl.nodes.DNSZone@unfurl:configurators/templates/dns":{"name":"unfurl.nodes.DNSZone@unfurl:configurators/templates/dns","title":"DNS Zone","description":"","__typename":"ResourceType","extends":["unfurl.nodes.DNSZone@unfurl:configurators/templates/dns","tosca.nodes.Root","unfurl.capabilities.DNSZone@unfurl:configurators/templates/dns","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone@unfurl:configurators/templates/dns"}],"inputsSchema":{"type":"object","properties":{"name":{"title":"Domain Name","required":true,"description":"Top level part of the DNS name (e.g. example.com)","type":"string"},"provider":{"title":"provider","required":true,"description":"OctoDNS provider configuration","sensitive":true,"type":"object"}}},"metadata":{"title":"DNS Zone"},"_sourceinfo":{"file":"configurators/templates/dns.yaml","repository":"unfurl","url":"github.com/onecommons/unfurl"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"records":{"title":"records","default":{},"required":true,"description":"DNS records to add to the zone","computed":true,"type":"object","additionalProperties":{"required":true,"additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DNSRecord","type":"object","properties":{"type":{"title":"type","required":true,"type":"string"},"value":{"title":"value","type":"string"},"values":{"title":"values","type":"array"},"$toscatype":{"const":"unfurl.datatypes.DNSRecord"}}}},"exclusive":{"title":"exclusive","default":false,"required":true,"description":"Zone exclusively managed by this instance (removes unrecognized records)","type":"boolean"},"default_ttl":{"title":"Default TTL","default":300,"required":true,"$toscatype":"integer","type":"number"},"testing":{"title":"Testing","default":false,"required":true,"description":"Is this DNS zone being used for testing? (If set, Let's Encrypt staging will be used.)","type":"boolean"}}},"outputsSchema":{"type":"object","properties":{"zone":{"title":"zone","required":true,"description":"The records found in the zone","internal":true,"type":"object"},"managed_records":{"title":"Managed Records","description":"The records in the zone that are managed by this instance","type":"object"}}}},"PostgresDBInstance@unfurl.cloud/onecommons/std:generic_types":{"name":"PostgresDBInstance@unfurl.cloud/onecommons/std:generic_types","title":"Self-hosted PostgresDB","description":"","__typename":"ResourceType","extends":["PostgresDBInstance@unfurl.cloud/onecommons/std:generic_types","PostgresDB@unfurl.cloud/onecommons/std:generic_types","SqlDB@unfurl.cloud/onecommons/std:generic_types","SoftwareComponent@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","ContainerService@unfurl.cloud/onecommons/std:generic_types","Service@unfurl.cloud/onecommons/std:generic_types","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"PrivateContainerHost@unfurl.cloud/onecommons/std:generic_types"},{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository@unfurl.cloud/onecommons/std:generic_types"}],"inputsSchema":{"type":"object","properties":{"root_user":{"title":"root_user","default":"root","required":true,"user_settable":true,"type":"string"},"root_password":{"title":"root_password","default":{"_generate":{"preset":"password"}},"required":true,"sensitive":true,"user_settable":true,"type":"string"},"database_name":{"title":"database_name","description":"Name of initial database to create (optional)","type":"string"},"software_version":{"title":"Software Version","type":"string"},"environment":{"title":"environment","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.EnvironmentVariables","type":"object"}}},"badge":"Database","icon":"/onecommons/std/-/raw/main/icons/PostgresDB.svg","metadata":{"title":"Self-hosted PostgresDB","badge":"Database","icon":"/onecommons/std/-/raw/main/icons/PostgresDB.svg"},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["create"],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"container":{"title":"container","default":{"user":"0","image":"bitnami/postgresql:latest","volumes":["/var/app/data/postgresql:/bitnami/postgresql"],"ports":["5432:5432"]},"tab_title":"Container","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"database_type":{"title":"database_type","default":"POSTGRES","required":true,"user_settable":false,"type":"string"},"url_scheme":{"title":"DB URL scheme","default":"postgresql","required":true,"description":"URL scheme to use when the database connection URL is generated","user_settable":false,"type":"string"},"url":{"title":"DB Connection URL","required":true,"description":"If omitted one will be generated from the other settings","sensitive":true,"type":"string"},"portspecs":{"title":"portspecs","required":true,"description":"Ports the service should be running on.","type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container_image":{"title":"container_image","required":true,"type":"string"},"health_check_url":{"title":"health_check_url","required":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","$toscatype":"integer","type":"number"},"public_ports":{"title":"public_ports","default":false,"required":true,"description":"Whether this service should be exposed to the internet","user_settable":false,"type":"boolean"}}},"outputsSchema":{"type":"object","properties":{}}},"PostgresDB@unfurl.cloud/onecommons/std:generic_types":{"name":"PostgresDB@unfurl.cloud/onecommons/std:generic_types","title":"PostgresDB","description":"","__typename":"ResourceType","extends":["PostgresDB@unfurl.cloud/onecommons/std:generic_types","SqlDB@unfurl.cloud/onecommons/std:generic_types","SoftwareComponent@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"root_user":{"title":"root_user","default":"root","required":true,"user_settable":true,"type":"string"},"root_password":{"title":"root_password","default":{"_generate":{"preset":"password"}},"required":true,"sensitive":true,"user_settable":true,"type":"string"},"database_name":{"title":"database_name","description":"Name of initial database to create (optional)","type":"string"},"software_version":{"title":"Software Version","type":"string"}}},"badge":"Database","icon":"/onecommons/std/-/raw/main/icons/PostgresDB.svg","metadata":{"badge":"Database","icon":"/onecommons/std/-/raw/main/icons/PostgresDB.svg"},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"database_type":{"title":"database_type","default":"POSTGRES","required":true,"user_settable":false,"type":"string"},"url_scheme":{"title":"DB URL scheme","default":"postgresql","required":true,"description":"URL scheme to use when the database connection URL is generated","user_settable":false,"type":"string"},"url":{"title":"DB Connection URL","required":true,"description":"If omitted one will be generated from the other settings","sensitive":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"SqlDB@unfurl.cloud/onecommons/std:generic_types":{"name":"SqlDB@unfurl.cloud/onecommons/std:generic_types","title":"SqlDB","description":"","__typename":"ResourceType","extends":["SqlDB@unfurl.cloud/onecommons/std:generic_types","SoftwareComponent@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"root_user":{"title":"root_user","default":"root","required":true,"user_settable":true,"type":"string"},"root_password":{"title":"root_password","default":{"_generate":{"preset":"password"}},"required":true,"sensitive":true,"user_settable":true,"type":"string"},"database_name":{"title":"database_name","description":"Name of initial database to create (optional)","type":"string"},"software_version":{"title":"Software Version","type":"string"}}},"badge":"Database","metadata":{"badge":"Database","category":"db"},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"database_type":{"title":"database_type","required":true,"user_settable":false,"type":"string"},"url_scheme":{"title":"DB URL scheme","required":true,"description":"URL scheme to use when the database connection URL is generated","user_settable":false,"type":"string"},"url":{"title":"DB Connection URL","required":true,"description":"If omitted one will be generated from the other settings","sensitive":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"SoftwareComponent@unfurl.cloud/onecommons/std:generic_types":{"name":"SoftwareComponent@unfurl.cloud/onecommons/std:generic_types","title":"SoftwareComponent","description":"","__typename":"ResourceType","extends":["SoftwareComponent@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"software_version":{"title":"Software Version","type":"string"}}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}}},"PrivateContainerComputeHost@unfurl.cloud/onecommons/std:generic_types":{"name":"PrivateContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","title":"PrivateContainerComputeHost","description":"","__typename":"ResourceType","extends":["PrivateContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","ContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","ContainerHost@unfurl.cloud/onecommons/std:generic_types","ServiceHost@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","PrivateContainerHost@unfurl.cloud/onecommons/std:generic_types","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"Compute@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"portspecs":null,"public_ports":null}},"requirementsFilter":[{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1}]}],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["configure"],"implementation_requirements":["unfurl.relationships.ConnectsTo.ComputeMachines"],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"mountpoint":{"title":"mountpoint","default":"/var/app/data","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"enable_caddy":{"title":"enable_caddy","default":false,"required":true,"visibility":"hidden","type":"boolean"},"app_name":{"title":"app_name","required":true,"visibility":"hidden","computed":true,"type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"PrivateContainerHost@unfurl.cloud/onecommons/std:generic_types":{"name":"PrivateContainerHost@unfurl.cloud/onecommons/std:generic_types","title":"PrivateContainerHost","description":"","__typename":"ResourceType","extends":["PrivateContainerHost@unfurl.cloud/onecommons/std:generic_types","ContainerHost@unfurl.cloud/onecommons/std:generic_types","ServiceHost@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"AWSRedis@unfurl.cloud/onecommons/std:aws/db":{"name":"AWSRedis@unfurl.cloud/onecommons/std:aws/db","title":"AWS ElasticCache Fully-Managed Redis","description":"","__typename":"ResourceType","extends":["AWSRedis@unfurl.cloud/onecommons/std:aws/db","Redis@unfurl.cloud/onecommons/std:generic_types","SoftwareComponent@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","unfurl.nodes.AWSResource","unfurl.nodes.CloudObject","unfurl.nodes.Installer.Terraform@unfurl:tosca_plugins/artifacts","unfurl.nodes.Installer","Service@unfurl.cloud/onecommons/std:generic_types","tosca.capabilities.Node","tosca.capabilities.Root","unfurl.capabilities.Installer"],"requirements":[{"name":"cloud","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.nodes.AWSAccount"}],"inputsSchema":{"type":"object","properties":{}},"badge":"Database","icon":"/onecommons/std/-/raw/main/icons/AWSRedis.svg","metadata":{"title":"AWS ElasticCache Fully-Managed Redis","icon":"/onecommons/std/-/raw/main/icons/AWSRedis.svg","badge":"Database"},"_sourceinfo":{"file":"aws/db.yaml","repository":"std","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["check","create","default","delete"],"implementation_requirements":["unfurl.relationships.ConnectsTo.AWSAccount"],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"password":{"title":"Password","sensitive":true,"user_settable":false,"visibility":"hidden","type":"string","pattern":"^[^@]*$"},"availability_zone":{"title":"Availability Zone","required":true,"type":"string"},"machine_type":{"title":"machine_type","default":"cache.t4g.micro","required":true,"type":"string"},"portspecs":{"title":"portspecs","required":true,"description":"Ports the service should be running on.","type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"username":{"title":"User Name","default":"","description":"Redis user name (use default if omitted)","type":"string"},"database_name":{"title":"Database Name","default":"","description":"Redis database name (use default if omitted)","type":"string"},"port":{"title":"Redis Port","default":6379,"required":true,"$toscatype":"tosca.datatypes.network.PortDef","type":"number","minimum":1024,"maximum":491511},"url_scheme":{"title":"Redis URL scheme","default":"redis","required":true,"description":"URL scheme to use when the Redis connection URL is generated","type":"string"},"url":{"title":"Redis Connection URL","required":true,"description":"If omitted one will be generated from the other settings","sensitive":true,"type":"string"},"software_version":{"title":"Software Version","description":"The Redis version (optional)","user_settable":false,"type":"string"},"main":{"title":"main","user_settable":false,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"uri":{"title":"uri","required":true,"description":"Unique identifier","type":"string"},"name":{"title":"name","required":true,"description":"Human-friendly name of the resource","type":"string"},"console_url":{"title":"console_url","description":"URL for viewing this resource in its cloud provider's console","type":"string"}}}},"Redis@unfurl.cloud/onecommons/std:generic_types":{"name":"Redis@unfurl.cloud/onecommons/std:generic_types","title":"Redis","description":"","__typename":"ResourceType","extends":["Redis@unfurl.cloud/onecommons/std:generic_types","SoftwareComponent@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"password":{"title":"Password","sensitive":true,"user_settable":true,"type":"string","pattern":"^[^@]*$"}}},"badge":"Database","icon":"/onecommons/std/-/raw/main/icons/Redis.svg#no-invert","metadata":{"icon":"/onecommons/std/-/raw/main/icons/Redis.svg#no-invert","badge":"Database","category":"kv_store"},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"username":{"title":"User Name","default":"","description":"Redis user name (use default if omitted)","type":"string"},"database_name":{"title":"Database Name","default":"","description":"Redis database name (use default if omitted)","type":"string"},"port":{"title":"Redis Port","default":6379,"required":true,"$toscatype":"tosca.datatypes.network.PortDef","type":"number","minimum":1024,"maximum":491511},"url_scheme":{"title":"Redis URL scheme","default":"redis","required":true,"description":"URL scheme to use when the Redis connection URL is generated","type":"string"},"url":{"title":"Redis Connection URL","required":true,"description":"If omitted one will be generated from the other settings","sensitive":true,"type":"string"},"software_version":{"title":"Software Version","description":"The Redis version (optional)","user_settable":false,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"unfurl.nodes.AWSResource":{"name":"unfurl.nodes.AWSResource","title":"AWSResource","description":"","__typename":"ResourceType","extends":["unfurl.nodes.AWSResource","unfurl.nodes.CloudObject","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[{"name":"cloud","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.nodes.AWSAccount"}],"inputsSchema":{"type":"object","properties":{}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"uri":{"title":"uri","required":true,"description":"Unique identifier","type":"string"},"name":{"title":"name","required":true,"description":"Human-friendly name of the resource","type":"string"},"console_url":{"title":"console_url","description":"URL for viewing this resource in its cloud provider's console","type":"string"}}}},"unfurl.nodes.CloudObject":{"name":"unfurl.nodes.CloudObject","title":"CloudObject","description":"","__typename":"ResourceType","extends":["unfurl.nodes.CloudObject","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"uri":{"title":"uri","required":true,"description":"Unique identifier","type":"string"},"name":{"title":"name","required":true,"description":"Human-friendly name of the resource","type":"string"},"console_url":{"title":"console_url","description":"URL for viewing this resource in its cloud provider's console","type":"string"}}}},"unfurl.nodes.Installer.Terraform@unfurl:tosca_plugins/artifacts":{"name":"unfurl.nodes.Installer.Terraform@unfurl:tosca_plugins/artifacts","title":"Terraform","description":"","__typename":"ResourceType","extends":["unfurl.nodes.Installer.Terraform@unfurl:tosca_plugins/artifacts","unfurl.nodes.Installer","tosca.nodes.Root","unfurl.capabilities.Installer","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"tosca_plugins/artifacts.yaml","repository":"unfurl","url":"github.com/onecommons/unfurl"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"main":{"title":"main","user_settable":false,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}}},"unfurl.nodes.Installer":{"name":"unfurl.nodes.Installer","title":"Installer","description":"","__typename":"ResourceType","extends":["unfurl.nodes.Installer","tosca.nodes.Root","unfurl.capabilities.Installer","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}}},"unfurl.nodes.ArtifactInstaller":{"name":"unfurl.nodes.ArtifactInstaller","title":"ArtifactInstaller","description":"","__typename":"ResourceType","extends":["unfurl.nodes.ArtifactInstaller","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"implementations":["check","configure","create","default","delete","start","stop"],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}}},"unfurl.nodes.LocalRepository":{"name":"unfurl.nodes.LocalRepository","title":"LocalRepository","description":"","__typename":"ResourceType","extends":["unfurl.nodes.LocalRepository","unfurl.nodes.Repository","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"repository":{"title":"repository","description":"The name of the repository this node instance represent.","type":"string"},"url":{"title":"url","description":"The url of this repository","type":"string"},"credential":{"title":"credential","description":"The credential, if present, of the repository this node instance represents.\n","sensitive":true,"$toscatype":"tosca.datatypes.Credential","type":"object","properties":{"protocol":{"title":"protocol","type":"string"},"token":{"title":"token","required":true,"type":"string"},"keys":{"title":"keys","type":"object","additionalProperties":{"required":true,"type":"string"}},"user":{"title":"user","type":"string"},"$toscatype":{"const":"tosca.datatypes.Credential"}}}}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}}},"unfurl.nodes.Repository":{"name":"unfurl.nodes.Repository","title":"Repository","description":"","__typename":"ResourceType","extends":["unfurl.nodes.Repository","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"repository":{"title":"repository","description":"The name of the repository this node instance represent.","type":"string"},"url":{"title":"url","description":"The url of this repository","type":"string"},"credential":{"title":"credential","description":"The credential, if present, of the repository this node instance represents.\n","sensitive":true,"$toscatype":"tosca.datatypes.Credential","type":"object","properties":{"protocol":{"title":"protocol","type":"string"},"token":{"title":"token","required":true,"type":"string"},"keys":{"title":"keys","type":"object","additionalProperties":{"required":true,"type":"string"}},"user":{"title":"user","type":"string"},"$toscatype":{"const":"tosca.datatypes.Credential"}}}}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}}},"UnfurlUserDNSZone@unfurl.cloud/onecommons/std:dns_services":{"name":"UnfurlUserDNSZone@unfurl.cloud/onecommons/std:dns_services","title":"Unfurl Cloud DNS","description":"","__typename":"ResourceType","extends":["UnfurlUserDNSZone@unfurl.cloud/onecommons/std:dns_services","unfurl.nodes.DNSZone@unfurl:configurators/templates/dns","tosca.nodes.Root","UnfurlUserDNSZone@unfurl.cloud/onecommons/unfurl-types","unfurl.capabilities.DNSZone@unfurl:configurators/templates/dns","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone@unfurl:configurators/templates/dns"}],"inputsSchema":{"type":"object","properties":{"name":{"title":"Domain name","required":true,"description":"DNS name of the zone.","user_settable":true,"x-read-only":true,"display-value":{"get_env":"PROJECT_DNS_ZONE"},"type":"string"}}},"badge":"DNS","icon":"/onecommons/std/-/raw/main/icons/unfurl-box-default.svg#no-invert","metadata":{"badge":"DNS","title":"Unfurl Cloud DNS","icon":"/onecommons/std/-/raw/main/icons/unfurl-box-default.svg#no-invert","internal":true,"category":"dns","concrete":true,"deprecates":"UnfurlUserDNSZone@unfurl.cloud/onecommons/unfurl-types"},"_sourceinfo":{"file":"dns_services.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["check","configure","connect","default","delete"],"implementation_requirements":[],"visibility":"hidden","computedPropertiesSchema":{"type":"object","properties":{"provider":{"title":"provider","default":{},"required":true,"description":"unused","sensitive":false,"type":"object"},"testing":{"title":"Testing","default":false,"required":true,"description":"Is this DNS zone being used for testing? (If set, Let's Encrypt staging will be used.)","user_settable":false,"type":"boolean"},"records":{"title":"records","default":{},"required":true,"description":"DNS records to add to the zone","computed":true,"type":"object","additionalProperties":{"required":true,"additionalProperties":{"type":"string","required":true},"$toscatype":"unfurl.datatypes.DNSRecord","type":"object","properties":{"type":{"title":"type","required":true,"type":"string"},"value":{"title":"value","type":"string"},"values":{"title":"values","type":"array"},"$toscatype":{"const":"unfurl.datatypes.DNSRecord"}}}},"exclusive":{"title":"exclusive","default":false,"required":true,"description":"Zone exclusively managed by this instance (removes unrecognized records)","type":"boolean"},"default_ttl":{"title":"Default TTL","default":300,"required":true,"$toscatype":"integer","type":"number"}}},"outputsSchema":{"type":"object","properties":{"zone":{"title":"zone","required":true,"description":"The records found in the zone","internal":true,"type":"object"},"managed_records":{"title":"Managed Records","description":"The records in the zone that are managed by this instance","type":"object"}}}},"AMIBootImage@unfurl.cloud/onecommons/std:aws/compute":{"name":"AMIBootImage@unfurl.cloud/onecommons/std:aws/compute","title":"AMIBootImage","description":"","__typename":"ResourceType","extends":["AMIBootImage@unfurl.cloud/onecommons/std:aws/compute","BootImage@unfurl.cloud/onecommons/std:generic_types","Configuration@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","unfurl.capabilities.Configuration@unfurl.cloud/onecommons/std:generic_types","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[],"inputsSchema":{"type":"object","properties":{"owner":{"title":"owner","required":true,"type":"string"},"name_regex":{"title":"name_regex","required":true,"type":"string"}}},"_sourceinfo":{"file":"aws/compute.yaml","repository":"std","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["configure"],"implementation_requirements":["unfurl.relationships.ConnectsTo.AWSAccount"],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"architecture":{"title":"architecture","default":"x86_64","required":true,"type":"string"},"virtualization_type":{"title":"virtualization_type","default":"hvm","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"type":"string"}}}},"BootImage@unfurl.cloud/onecommons/std:generic_types":{"name":"BootImage@unfurl.cloud/onecommons/std:generic_types","title":"BootImage","description":"","__typename":"ResourceType","extends":["BootImage@unfurl.cloud/onecommons/std:generic_types","Configuration@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","unfurl.capabilities.Configuration@unfurl.cloud/onecommons/std:generic_types","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"type":"string"}}}},"Configuration@unfurl.cloud/onecommons/std:generic_types":{"name":"Configuration@unfurl.cloud/onecommons/std:generic_types","title":"Configuration","description":"","__typename":"ResourceType","extends":["Configuration@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.Root","unfurl.capabilities.Configuration@unfurl.cloud/onecommons/std:generic_types","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}}},"AWSMetadata@unfurl.cloud/onecommons/std:aws/compute":{"name":"AWSMetadata@unfurl.cloud/onecommons/std:aws/compute","title":"AWSMetadata","description":"","__typename":"ResourceType","extends":["AWSMetadata@unfurl.cloud/onecommons/std:aws/compute","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"_sourceinfo":{"file":"aws/compute.yaml","repository":"std","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":["configure"],"implementation_requirements":["unfurl.relationships.ConnectsTo.AWSAccount"],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"machine_types":{"title":"machine_types","required":true,"type":"array","items":{"required":true,"type":"object"}},"availability_zone":{"title":"availability_zone","required":true,"type":"string"}}}},"Volume@unfurl.cloud/onecommons/std:generic_types":{"name":"Volume@unfurl.cloud/onecommons/std:generic_types","title":"Volume","description":"","__typename":"ResourceType","extends":["Volume@unfurl.cloud/onecommons/std:generic_types","tosca.nodes.BlockStorage","tosca.nodes.Storage.BlockStorage","tosca.nodes.Abstract.Storage","tosca.nodes.Root","tosca.capabilities.Attachment","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[],"inputsSchema":{"type":"object","properties":{"persistent":{"title":"Persistent","default":true,"description":"Don't delete the volume when the associated instance is destroyed.","user_settable":true,"type":"boolean"},"disk_device":{"title":"Unix device path on connected instance","required":true,"type":"string"},"volume_id":{"title":"volume_id","type":"string"},"snapshot_id":{"title":"snapshot_id","type":"string"}}},"_sourceinfo":{"file":"generic_types.yaml","url":"https://unfurl.cloud/onecommons/std.git"},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"size":{"title":"Disk Size","default":"10GB","required":true,"default_unit":"GB","description":"Size of the persistent disk, specified in GB.","$toscatype":"scalar-unit.size","type":"number","minimum":0},"disk_label":{"title":"Disk label","required":true,"computed":true,"visibility":"hidden","type":"string"},"name":{"title":"name","default":"","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"volume_id":{"title":"volume_id","required":true,"type":"string"}}}},"tosca.nodes.BlockStorage":{"name":"tosca.nodes.BlockStorage","title":"BlockStorage","description":"","__typename":"ResourceType","extends":["tosca.nodes.BlockStorage","tosca.nodes.Storage.BlockStorage","tosca.nodes.Abstract.Storage","tosca.nodes.Root","tosca.capabilities.Attachment","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[],"inputsSchema":{"type":"object","properties":{"volume_id":{"title":"volume_id","type":"string"},"snapshot_id":{"title":"snapshot_id","type":"string"}}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"name":{"title":"name","default":"","required":true,"type":"string"},"size":{"title":"size","default":"0 MB","required":true,"$toscatype":"scalar-unit.size","type":"string","minimum":0}}},"outputsSchema":{"type":"object","properties":{"volume_id":{"title":"volume_id","required":true,"type":"string"}}}},"tosca.nodes.Storage.BlockStorage":{"name":"tosca.nodes.Storage.BlockStorage","title":"BlockStorage","description":"","__typename":"ResourceType","extends":["tosca.nodes.Storage.BlockStorage","tosca.nodes.Abstract.Storage","tosca.nodes.Root","tosca.capabilities.Attachment","tosca.capabilities.Root","tosca.capabilities.Node"],"requirements":[],"inputsSchema":{"type":"object","properties":{"volume_id":{"title":"volume_id","type":"string"},"snapshot_id":{"title":"snapshot_id","type":"string"},"name":{"title":"name","required":true,"type":"string"}}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"size":{"title":"size","default":"0 MB","required":true,"$toscatype":"scalar-unit.size","type":"string","minimum":0}}},"outputsSchema":{"type":"object","properties":{"volume_id":{"title":"volume_id","required":true,"type":"string"}}}},"tosca.nodes.Abstract.Storage":{"name":"tosca.nodes.Abstract.Storage","title":"Storage","description":"","__typename":"ResourceType","extends":["tosca.nodes.Abstract.Storage","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"name":{"title":"name","required":true,"type":"string"}}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"size":{"title":"size","default":"0 MB","required":true,"$toscatype":"scalar-unit.size","type":"string","minimum":0}}},"outputsSchema":{"type":"object","properties":{}}},"unfurl.relationships.ConnectsTo.AWSAccount":{"name":"unfurl.relationships.ConnectsTo.AWSAccount","title":"AWSAccount","description":"","__typename":"ResourceType","extends":["unfurl.relationships.ConnectsTo.AWSAccount","unfurl.relationships.ConnectsTo.CloudAccount","unfurl.relationships.ConnectsTo.ComputeMachines","tosca.relationships.ConnectsTo","tosca.relationships.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"endpoints":{"title":"endpoints","description":"custom service endpoints","type":"object"},"credential":{"title":"credential","$toscatype":"tosca.datatypes.Credential","type":"object","properties":{"protocol":{"title":"protocol","type":"string"},"token":{"title":"token","required":true,"type":"string"},"keys":{"title":"keys","type":"object","additionalProperties":{"required":true,"type":"string"}},"user":{"title":"user","type":"string"},"$toscatype":{"const":"tosca.datatypes.Credential"}}}}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{"AWS_DEFAULT_REGION":{"title":"AWS_DEFAULT_REGION","default":{"get_env":"AWS_DEFAULT_REGION"},"description":"The default region to use, e.g. us-west-1, us-west-2, etc.","type":"string"},"AWS_ACCESS_KEY_ID":{"title":"AWS_ACCESS_KEY_ID","default":{"get_env":"AWS_ACCESS_KEY_ID"},"description":"The access key for your AWS account","type":"string"},"AWS_SECRET_ACCESS_KEY":{"title":"AWS_SECRET_ACCESS_KEY","default":{"get_env":"AWS_SECRET_ACCESS_KEY"},"description":"The secret key for your AWS account.","sensitive":true,"type":"string"},"AWS_SESSION_TOKEN":{"title":"AWS_SESSION_TOKEN","default":{"get_env":"AWS_SESSION_TOKEN"},"description":"The session key for your AWS account.","sensitive":true,"type":"string"},"AWS_PROFILE":{"title":"AWS_PROFILE","default":{"get_env":"AWS_PROFILE"},"type":"string"},"AWS_SHARED_CREDENTIALS_FILE":{"title":"AWS_SHARED_CREDENTIALS_FILE","default":{"get_env":"AWS_SHARED_CREDENTIALS_FILE"},"type":"string"},"AWS_CONFIG_FILE":{"title":"AWS_CONFIG_FILE","default":{"get_env":"AWS_CONFIG_FILE"},"type":"string"}}}},"unfurl.relationships.ConnectsTo.CloudAccount":{"name":"unfurl.relationships.ConnectsTo.CloudAccount","title":"CloudAccount","description":"","__typename":"ResourceType","extends":["unfurl.relationships.ConnectsTo.CloudAccount","unfurl.relationships.ConnectsTo.ComputeMachines","tosca.relationships.ConnectsTo","tosca.relationships.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"credential":{"title":"credential","$toscatype":"tosca.datatypes.Credential","type":"object","properties":{"protocol":{"title":"protocol","type":"string"},"token":{"title":"token","required":true,"type":"string"},"keys":{"title":"keys","type":"object","additionalProperties":{"required":true,"type":"string"}},"user":{"title":"user","type":"string"},"$toscatype":{"const":"tosca.datatypes.Credential"}}}}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}}},"unfurl.relationships.ConnectsTo.ComputeMachines":{"name":"unfurl.relationships.ConnectsTo.ComputeMachines","title":"ComputeMachines","description":"","__typename":"ResourceType","extends":["unfurl.relationships.ConnectsTo.ComputeMachines","tosca.relationships.ConnectsTo","tosca.relationships.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"credential":{"title":"credential","$toscatype":"tosca.datatypes.Credential","type":"object","properties":{"protocol":{"title":"protocol","type":"string"},"token":{"title":"token","required":true,"type":"string"},"keys":{"title":"keys","type":"object","additionalProperties":{"required":true,"type":"string"}},"user":{"title":"user","type":"string"},"$toscatype":{"const":"tosca.datatypes.Credential"}}}}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}}},"tosca.relationships.ConnectsTo":{"name":"tosca.relationships.ConnectsTo","title":"ConnectsTo","description":"","__typename":"ResourceType","extends":["tosca.relationships.ConnectsTo","tosca.relationships.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{"credential":{"title":"credential","$toscatype":"tosca.datatypes.Credential","type":"object","properties":{"protocol":{"title":"protocol","type":"string"},"token":{"title":"token","required":true,"type":"string"},"keys":{"title":"keys","type":"object","additionalProperties":{"required":true,"type":"string"}},"user":{"title":"user","type":"string"},"$toscatype":{"const":"tosca.datatypes.Credential"}}}}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}}},"tosca.relationships.Root":{"name":"tosca.relationships.Root","title":"Root","description":"","__typename":"ResourceType","extends":["tosca.relationships.Root"],"requirements":[],"inputsSchema":{"type":"object","properties":{}},"implementations":[],"implementation_requirements":[],"visibility":"inherit","computedPropertiesSchema":{"type":"object","properties":{}}}},"ResourceTemplate":{"the_app":{"type":"Nestedcloud@unfurl.cloud/user-20240316T012327279Z/dashboard.git/environments/aws-20240316t012327280z/onecommons/blueprints/nestedcloud/nestedcloud-aws:main","name":"the_app","title":"the_app","description":"","directives":[],"properties":[],"dependencies":[{"constraint":{"name":"nested","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.WebApp@unfurl.cloud/onecommons/std:generic_types"},"name":"nested","match":"discourseapp","__typename":"Requirement","visibility":"visible"}]},"discourseapp":{"type":"DiscourseApp@unfurl.cloud/onecommons/blueprints/discourse:ensemble-template.yaml#spec/service_template","name":"discourseapp","title":"DiscourseApp","description":"","directives":["substitute"],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"discourse_version","value":"2.8.11"},{"name":"sitename","value":"My site!"},{"name":"admin_user","value":"admin"},{"name":"admin_pass","value":{"get_env":"nestedcloud_aws__discourseapp__admin_pass"}},{"name":"admin_email","value":"your_email@gmail.com"},{"name":"subdomain","value":"discourse"},{"name":"database_name","value":"discourse"}],"dependencies":[{"constraint":{"name":"container","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":"container","resourceType":"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"resourceType":"HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types"}]},"name":"container","match":"container-lttfcxz9","__typename":"Requirement","visibility":"hidden"},{"constraint":{"name":"sidekiqcontainer","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":"sidekiqcontainer","resourceType":"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"","__typename":"RequirementConstraint","requirementsFilter":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Sidekiq Compute"}]}]},"name":"sidekiqcontainer","match":"sidekiqcontainer-lttfcxzp","__typename":"Requirement","visibility":"hidden"},{"constraint":{"name":"db","description":"External database for Discourse","__typename":"RequirementConstraint","title":"Database Instance","min":1,"max":1,"match":null,"resourceType":"PostgresDB@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"database_name":null}}},"name":"db","match":"database-instance-for-discourseapp","__typename":"Requirement","visibility":"visible"},{"constraint":{"name":"redis","description":"External cache for discourse","__typename":"RequirementConstraint","title":"Redis Cache","min":1,"max":1,"match":null,"resourceType":"Redis@unfurl.cloud/onecommons/std:generic_types"},"name":"redis","match":"redis-cache-for-discourseapp","__typename":"Requirement","visibility":"visible"},{"constraint":{"name":"mail","description":"Mail server for discourse","__typename":"RequirementConstraint","title":"Mail Server","min":0,"max":1,"match":null,"resourceType":"SMTPServer@unfurl.cloud/onecommons/std:generic_types"},"name":"mail","match":null,"__typename":"Requirement"}]},"container-lttfcxz9":{"type":"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","name":"container-lttfcxz9","title":"container","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"container","value":{"environment":{"eval":{"to_env":{"REDIS_PASSWORD":{"eval":".configured_by::.targets::redis::password"},"ALLOW_EMPTY_PASSWORD":{"eval":{"if":".configured_by::.targets::redis::password","then":{"q":false},"else":{"q":true}}},"POSTGRESQL_HOST":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::host","else":null}},"POSTGRESQL_ROOT_USER":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::root_user","else":null}},"POSTGRESQL_CLIENT_CREATE_DATABASE_NAME":null,"POSTGRESQL_CLIENT_CREATE_DATABASE_USERNAME":null,"POSTGRESQL_CLIENT_CREATE_DATABASE_PASSWORD":null,"POSTGRESQL_CLIENT_POSTGRES_PASSWORD":null,"DISCOURSE_USERNAME":"{{'.configured_by::admin_user' | eval}}","DISCOURSE_PASSWORD":"{{'.configured_by::admin_pass' | eval}}","DISCOURSE_EMAIL":"{{'.configured_by::admin_email' | eval}}","DISCOURSE_SITENAME":"{{'.configured_by::sitename' | eval}}","DISCOURSE_POSTGRESQL_NAME":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::database_name","else":null}},"DISCOURSE_POSTGRESQL_USERNAME":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::root_user","else":null}},"DISCOURSE_POSTGRESQL_PASSWORD":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::root_password","else":null}},"DISCOURSE_HOSTNAME":{"eval":".configured_by::.targets::container::host"},"REDIS_HOST":{"eval":{"if":".configured_by::.targets::redis","then":".configured_by::.targets::redis::host","else":null}},"SMTP_HOST":{"eval":{"if":".configured_by::.targets::mail","then":".configured_by::.targets::mail::host","else":null}},"SMTP_PORT":"587","SMTP_USER":{"eval":{"if":".configured_by::.targets::mail","then":".configured_by::.targets::mail::user_name","else":null}},"SMTP_PASSWORD":{"eval":{"if":".configured_by::.targets::mail","then":".configured_by::.targets::mail::password","else":null}}}}},"image":"docker.io/bitnami/discourse:{{'.configured_by::discourse_version' | eval}}","ports":["3000:3000"],"volumes":["discourse-data:/bitnami"]}},{"name":"public_ports","value":true}],"dependencies":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types"},"name":"host","match":"host-for-container-lttfcxz9","__typename":"Requirement","visibility":"visible"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository@unfurl.cloud/onecommons/std:generic_types"},"name":"container_image_source","match":null,"__typename":"Requirement"}]},"host-for-container-lttfcxz9":{"type":"HttpsProxyContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","name":"host-for-container-lttfcxz9","title":"host-for-container-lttfcxz9","description":"","directives":[],"metadata":{"created_by":"unfurl-gui","visibility":"hidden"},"properties":[],"dependencies":[{"constraint":{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"Compute@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"portspecs":null,"public_ports":null}},"requirementsFilter":[{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1}]},"name":"host","match":"compute-for-discourseapp","__typename":"Requirement","visibility":"visible"},{"constraint":{"name":"dns","description":"DNS provider for domain name configuration","__typename":"RequirementConstraint","title":"DNS","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.DNSZone@unfurl:configurators/templates/dns"},"name":"dns","match":"__route53dnszone","__typename":"Requirement","visibility":"visible"}],"visibility":"hidden"},"sidekiqcontainer-lttfcxzp":{"type":"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","name":"sidekiqcontainer-lttfcxzp","title":"sidekiqcontainer","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"container","value":{"environment":{"eval":{"to_env":{"REDIS_PASSWORD":{"eval":".configured_by::.targets::redis::password"},"ALLOW_EMPTY_PASSWORD":{"eval":{"if":".configured_by::.targets::redis::password","then":{"q":false},"else":{"q":true}}},"DISCOURSE_POSTGRESQL_NAME":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::database_name","else":null}},"DISCOURSE_POSTGRESQL_USERNAME":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::root_user","else":null}},"DISCOURSE_POSTGRESQL_PASSWORD":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::root_password","else":null}},"DISCOURSE_HOST":{"eval":".configured_by::.targets::container::host"},"DISCOURSE_PORT":"3000","DISCOURSE_HOSTNAME":{"eval":".configured_by::.targets::container::host"},"POSTGRESQL_HOST":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::host","else":null}},"REDIS_HOST":{"eval":{"if":".configured_by::.targets::redis","then":".configured_by::.targets::redis::host","else":null}},"SMTP_HOST":{"eval":{"if":".configured_by::.targets::mail","then":".configured_by::.targets::mail::host","else":null}},"SMTP_PORT":"587","SMTP_USER":{"eval":{"if":".configured_by::.targets::mail","then":".configured_by::.targets::mail::user_name","else":null}},"SMTP_PASSWORD":{"eval":{"if":".configured_by::.targets::mail","then":".configured_by::.targets::mail::password","else":null}}}}},"volumes":["discourse-data:/bitnami"],"image":"docker.io/bitnami/discourse:{{'.configured_by::discourse_version' | eval}}","ports":[],"command":["/opt/bitnami/scripts/discourse-sidekiq/run.sh"]}}],"dependencies":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"ContainerHost@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Sidekiq Compute"}]},"name":"host","match":null,"__typename":"Requirement"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository@unfurl.cloud/onecommons/std:generic_types"},"name":"container_image_source","match":null,"__typename":"Requirement"}]},"compute-for-discourseapp":{"type":"EC2Compute@unfurl.cloud/onecommons/std:aws/compute","name":"compute-for-discourseapp","title":"Compute for DiscourseApp","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"num_cpus","value":1},{"name":"mem_size","value":2048},{"name":"disk_size","value":32},{"name":"public_ports","value":{"eval":".configured_by::public_ports?","vars":{"SOURCE":{"eval":"::host-for-container-lttfcxz9"}}}}],"dependencies":[{"constraint":{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types"},"name":"cloud_init","match":"cloud_init-for-compute-for-discourseapp","__typename":"Requirement","visibility":"visible"},{"constraint":{"name":"volume_attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"Volume@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"persistent":null}}},"name":"volume_attachment","match":null,"__typename":"Requirement"},{"constraint":{"name":"floating_ip","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"FloatingIP@unfurl.cloud/onecommons/std:generic_types"},"name":"floating_ip","match":null,"__typename":"Requirement"}]},"cloud_init-for-compute-for-discourseapp":{"type":"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types","name":"cloud_init-for-compute-for-discourseapp","title":"cloud_init-for-compute-for-discourseapp","description":"","directives":[],"metadata":{"created_by":"unfurl-gui","visibility":"hidden"},"properties":[],"dependencies":[],"visibility":"hidden"},"__route53dnszone":{"type":"Route53DNSZone@unfurl.cloud/onecommons/std:dns_services","name":"__route53dnszone","title":"Route53DNSZone","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"access_key_id","value":"AKIAVISQV7JAHDNJVS4B"},{"name":"secret_access_key","value":{"get_env":"route53dnszone__secret_access_key"}},{"name":"name","value":"opencloudservices.net"}],"dependencies":[{"constraint":{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone@unfurl:configurators/templates/dns"},"name":"parent_zone","match":null,"__typename":"Requirement","visibility":"hidden"}]},"database-instance-for-discourseapp":{"type":"PostgresDBInstance@unfurl.cloud/onecommons/std:generic_types","name":"database-instance-for-discourseapp","title":"Database Instance for DiscourseApp","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"root_user","value":"root"},{"name":"root_password","value":{"get_env":"nestedcloud_aws__database_instance_for_discourseapp__root_password"}},{"name":"database_name","value":{"eval":".configured_by::database_name","vars":{"SOURCE":{"eval":"::discourseapp"}}}}],"dependencies":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"PrivateContainerHost@unfurl.cloud/onecommons/std:generic_types"},"name":"host","match":"host-for-database-instance-for-discourseapp","__typename":"Requirement","visibility":"visible"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository@unfurl.cloud/onecommons/std:generic_types"},"name":"container_image_source","match":null,"__typename":"Requirement"}]},"host-for-database-instance-for-discourseapp":{"type":"PrivateContainerComputeHost@unfurl.cloud/onecommons/std:generic_types","name":"host-for-database-instance-for-discourseapp","title":"host-for-database-instance-for-discourseapp","description":"","directives":[],"metadata":{"created_by":"unfurl-gui","visibility":"hidden"},"properties":[],"dependencies":[{"constraint":{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"Compute@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"portspecs":null,"public_ports":null}},"requirementsFilter":[{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1}]},"name":"host","match":"dbcompute-for-discourseapp","__typename":"Requirement","visibility":"visible"}],"visibility":"hidden"},"redis-cache-for-discourseapp":{"type":"AWSRedis@unfurl.cloud/onecommons/std:aws/db","name":"redis-cache-for-discourseapp","title":"Redis Cache for DiscourseApp","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[],"dependencies":[{"constraint":{"name":"cloud","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.nodes.AWSAccount"},"name":"cloud","match":null,"__typename":"Requirement","visibility":"hidden"}]},"dbcompute-for-discourseapp":{"type":"EC2Compute@unfurl.cloud/onecommons/std:aws/compute","name":"dbcompute-for-discourseapp","title":"DBCompute for DiscourseApp","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"num_cpus","value":1},{"name":"mem_size","value":2048},{"name":"disk_size","value":32},{"name":"portspecs","value":{"eval":".configured_by::portspecs?","vars":{"SOURCE":{"eval":"::host-for-database-instance-for-discourseapp"}}}},{"name":"public_ports","value":{"eval":".configured_by::public_ports?","vars":{"SOURCE":{"eval":"::host-for-database-instance-for-discourseapp"}}}}],"dependencies":[{"constraint":{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types"},"name":"cloud_init","match":"cloud_init-for-dbcompute-for-discourseapp","__typename":"Requirement","visibility":"visible"},{"constraint":{"name":"volume_attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"Volume@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"persistent":null}}},"name":"volume_attachment","match":null,"__typename":"Requirement"},{"constraint":{"name":"floating_ip","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"FloatingIP@unfurl.cloud/onecommons/std:generic_types"},"name":"floating_ip","match":null,"__typename":"Requirement"}]},"cloud_init-for-dbcompute-for-discourseapp":{"type":"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types","name":"cloud_init-for-dbcompute-for-discourseapp","title":"cloud_init-for-dbcompute-for-discourseapp","description":"","directives":[],"metadata":{"created_by":"unfurl-gui","visibility":"hidden"},"properties":[],"dependencies":[],"visibility":"hidden"},"unfurl_dns_zone":{"type":"UnfurlUserDNSZone@unfurl.cloud/onecommons/std:dns_services","name":"unfurl_dns_zone","title":"Unfurl Cloud DNS","description":"","directives":["default"],"metadata":{"visibility":"visible"},"properties":[{"name":"name","value":null}],"dependencies":[{"constraint":{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone@unfurl:configurators/templates/dns"},"name":"parent_zone","match":null,"__typename":"Requirement","visibility":"hidden"}],"visibility":"visible"},"dockerhost_aws_bootimage":{"type":"AMIBootImage@unfurl.cloud/onecommons/std:aws/compute","name":"dockerhost_aws_bootimage","title":"dockerhost_aws_bootimage","description":"","directives":["default"],"properties":[{"name":"owner","value":"099720109477"},{"name":"name_regex","value":"jammy"}],"dependencies":[],"visibility":"hidden"},"aws_metadata":{"type":"AWSMetadata@unfurl.cloud/onecommons/std:aws/compute","name":"aws_metadata","title":"aws_metadata","description":"","directives":["default"],"properties":[],"dependencies":[],"visibility":"hidden"}},"Overview":{"template_name":"Nestedcloud","template_author":null,"template_version":0.1,"livePreview":null,"image":null,"sourceCodeUrl":null,"deployments":0,"webUrl":null,"primaryDeploymentBlueprint":"gcp"},"DeploymentTemplate":{"nestedcloud-aws":{"title":"Nestedcloud AWS","cloud":"unfurl.relationships.ConnectsTo.AWSAccount","description":"Deploy using Amazon Elastic Compute Cloud (EC2)","primary":"the_app","projectPath":"onecommons/blueprints/nestedcloud","source":"aws","__typename":"DeploymentTemplate","name":"nestedcloud-aws","slug":"nestedcloud-aws","blueprint":"nestedcloud","resourceTemplates":["__route53dnszone","aws_metadata","cloud_init-for-compute-for-discourseapp","cloud_init-for-dbcompute-for-discourseapp","compute-for-discourseapp","container-lttfcxz9","database-instance-for-discourseapp","dbcompute-for-discourseapp","discourseapp","dockerhost_aws_bootimage","host-for-container-lttfcxz9","host-for-database-instance-for-discourseapp","redis-cache-for-discourseapp","sidekiqcontainer-lttfcxzp","the_app","unfurl_dns_zone"],"ResourceTemplate":{},"environmentVariableNames":["APP_URL","NESTED_SUBDOMAIN","NESTED_HEALTH_CHECK_URL","NESTED_READINESS_ESTIMATE","NESTED_URL"],"commitTime":"2024-03-16 01:49:15+00:00"}},"ApplicationBlueprint":{"nestedcloud":{"name":"nestedcloud","__typename":"ApplicationBlueprint","title":"Nestedcloud","description":"A safe home for all your data. Access & share your files, calendars, contacts, mail & more from any device, on your terms.","livePreview":null,"sourceCodeUrl":null,"image":null,"projectIcon":null,"primaryDeploymentBlueprint":"gcp","primary":"Nestedcloud@unfurl.cloud/user-20240316T012327279Z/dashboard.git/environments/aws-20240316t012327280z/onecommons/blueprints/nestedcloud/nestedcloud-aws:main","deploymentTemplates":["nestedcloud-aws","gcp","aws","digitalocean","azure","selfhosted","kubernetes"]}},"Resource":{"cloud_init-for-compute-for-discourseapp":{"name":"cloud_init-for-compute-for-discourseapp","title":"cloud_init-for-compute-for-discourseapp","template":"cloud_init-for-compute-for-discourseapp","state":3,"status":1,"__typename":"Resource","imported":null,"visibility":"hidden","protected":null,"attributes":[],"computedProperties":[],"connections":[]},"compute-for-discourseapp":{"name":"compute-for-discourseapp","title":"Compute for DiscourseApp","template":"compute-for-discourseapp","state":3,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"id","value":"i-0a794464aca474941"},{"name":"arn","value":"arn:aws:ec2:eu-central-1:362020207168:instance/i-0a794464aca474941"},{"name":"availability_zone","value":"eu-central-1c"},{"name":"private_address","value":"172.31.14.46"},{"name":"private_dns","value":"ip-172-31-14-46.eu-central-1.compute.internal"},{"name":"public_address","value":"3.73.51.24"},{"name":"public_dns","value":"ec2-3-73-51-24.eu-central-1.compute.amazonaws.com"},{"name":"console_url","value":"https://console.aws.amazon.com/ec2/v2/home?region=eu-central-1#InstanceDetails:instanceId=i-0a794464aca474941"}],"computedProperties":[{"name":"machine_type","value":"c6i.8xlarge"},{"name":"num_cpus","value":1},{"name":"mem_size","value":2048},{"name":"name","value":"computefordiscourseappJ7K"},{"name":"disk_size","value":32},{"name":"portspecs","value":[]},{"name":"public_ports","value":true},{"name":"boot_image","value":"ami-0c6507c2e32d5e397"}],"connections":[{"constraint":{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types"},"name":"cloud_init","match":"cloud_init-for-compute-for-discourseapp","__typename":"Requirement","visibility":"visible","target":"cloud_init-for-compute-for-discourseapp"},{"constraint":{"name":"volume_attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"Volume@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"persistent":null}}},"name":"volume_attachment","match":null,"__typename":"Requirement"},{"constraint":{"name":"floating_ip","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"FloatingIP@unfurl.cloud/onecommons/std:generic_types"},"name":"floating_ip","match":null,"__typename":"Requirement"}]},"host-for-container-lttfcxz9":{"name":"host-for-container-lttfcxz9","title":"host-for-container-lttfcxz9","template":"host-for-container-lttfcxz9","state":5,"status":1,"__typename":"Resource","imported":null,"visibility":"hidden","protected":null,"attributes":[{"name":"ports","value":[443]}],"computedProperties":[{"name":"protocol","value":"https"},{"name":"container_image","value":"<<REDACTED>>"},{"name":"container","value":{"environment":{"ALLOW_EMPTY_PASSWORD":true,"POSTGRESQL_HOST":"ip-172-31-14-46.eu-central-1.compute.internal","POSTGRESQL_ROOT_USER":"root","DISCOURSE_USERNAME":"admin","DISCOURSE_PASSWORD":"<<REDACTED>>","DISCOURSE_EMAIL":"your_email@gmail.com","DISCOURSE_SITENAME":"My site!","DISCOURSE_POSTGRESQL_NAME":"discourse","DISCOURSE_POSTGRESQL_USERNAME":"root","DISCOURSE_POSTGRESQL_PASSWORD":"<<REDACTED>>","DISCOURSE_HOSTNAME":"discourse.opencloudservices.net","REDIS_HOST":"aws-elasticcache-fully-managed-redisabu.qaceen.0001.euc1.cache.amazonaws.com","SMTP_PORT":"587"},"image":"docker.io/bitnami/discourse:2.8.11","ports":["3000:3000"],"volumes":["discourse-data:/bitnami"]}},{"name":"registry_user","value":null},{"name":"registry_password","value":"<<REDACTED>>"},{"name":"registry_url","value":null}],"connections":[{"constraint":{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"Compute@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"portspecs":null,"public_ports":null}},"requirementsFilter":[{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1}]},"name":"host","match":"compute-for-discourseapp","__typename":"Requirement","visibility":"visible","target":"compute-for-discourseapp"},{"constraint":{"name":"dns","description":"DNS provider for domain name configuration","__typename":"RequirementConstraint","title":"DNS","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.DNSZone@unfurl:configurators/templates/dns"},"name":"dns","match":"__route53dnszone","__typename":"Requirement","visibility":"visible","target":"__route53dnszone"}]},"container-lttfcxz9":{"name":"container-lttfcxz9","title":"container","template":"container-lttfcxz9","state":null,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"url","value":"https://discourse.opencloudservices.net:443"},{"name":"host","value":"discourse.opencloudservices.net"},{"name":"port","value":443}],"computedProperties":[{"name":"public_ports","value":true},{"name":"container_image","value":{"eval":{"container_image":"docker.io/docker.io/bitnami/discourse:2.8.11"}}},{"name":"container","value":{"environment":{"ALLOW_EMPTY_PASSWORD":true,"POSTGRESQL_HOST":"ip-172-31-14-46.eu-central-1.compute.internal","POSTGRESQL_ROOT_USER":"root","DISCOURSE_USERNAME":"admin","DISCOURSE_PASSWORD":"<<REDACTED>>","DISCOURSE_EMAIL":"your_email@gmail.com","DISCOURSE_SITENAME":"My site!","DISCOURSE_POSTGRESQL_NAME":"discourse","DISCOURSE_POSTGRESQL_USERNAME":"root","DISCOURSE_POSTGRESQL_PASSWORD":"<<REDACTED>>","DISCOURSE_HOSTNAME":"discourse.opencloudservices.net","REDIS_HOST":"aws-elasticcache-fully-managed-redisabu.qaceen.0001.euc1.cache.amazonaws.com","SMTP_PORT":"587"},"image":"docker.io/bitnami/discourse:2.8.11","ports":["3000:3000"],"volumes":["discourse-data:/bitnami"]}}],"connections":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types"},"name":"host","match":"host-for-container-lttfcxz9","__typename":"Requirement","visibility":"visible","target":"host-for-container-lttfcxz9"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository@unfurl.cloud/onecommons/std:generic_types"},"name":"container_image_source","match":null,"__typename":"Requirement"}]},"__route53dnszone":{"name":"__route53dnszone","title":"Route53DNSZone","template":"__route53dnszone","state":5,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"console_url","value":"https://console.aws.amazon.com/route53/v2/hostedzones"}],"computedProperties":[{"name":"name","value":"opencloudservices.net"}],"connections":[{"constraint":{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone@unfurl:configurators/templates/dns"},"name":"parent_zone","match":null,"__typename":"Requirement","visibility":"hidden"}]},"sidekiqcontainer-lttfcxzp":{"name":"sidekiqcontainer-lttfcxzp","title":"sidekiqcontainer","template":"sidekiqcontainer-lttfcxzp","state":null,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[],"computedProperties":[],"connections":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"ContainerHost@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Sidekiq Compute"}]},"name":"host","match":null,"__typename":"Requirement"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository@unfurl.cloud/onecommons/std:generic_types"},"name":"container_image_source","match":null,"__typename":"Requirement"}]},"cloud_init-for-dbcompute-for-discourseapp":{"name":"cloud_init-for-dbcompute-for-discourseapp","title":"cloud_init-for-dbcompute-for-discourseapp","template":"cloud_init-for-dbcompute-for-discourseapp","state":3,"status":1,"__typename":"Resource","imported":null,"visibility":"hidden","protected":null,"attributes":[],"computedProperties":[],"connections":[]},"dbcompute-for-discourseapp":{"name":"dbcompute-for-discourseapp","title":"DBCompute for DiscourseApp","template":"dbcompute-for-discourseapp","state":3,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"id","value":"i-0a794464aca474941"},{"name":"arn","value":"arn:aws:ec2:eu-central-1:362020207168:instance/i-0a794464aca474941"},{"name":"availability_zone","value":"eu-central-1c"},{"name":"private_address","value":"172.31.14.46"},{"name":"private_dns","value":"ip-172-31-14-46.eu-central-1.compute.internal"},{"name":"public_address","value":"3.73.51.24"},{"name":"public_dns","value":"ec2-3-73-51-24.eu-central-1.compute.amazonaws.com"},{"name":"console_url","value":"https://console.aws.amazon.com/ec2/v2/home?region=eu-central-1#InstanceDetails:instanceId=i-0a794464aca474941"}],"computedProperties":[{"name":"machine_type","value":"c6i.8xlarge"},{"name":"num_cpus","value":1},{"name":"mem_size","value":2048},{"name":"name","value":"dbcomputefordiscourseappMW1"},{"name":"disk_size","value":32},{"name":"portspecs","value":[{"protocol":"tcp","source":5432,"target":5432,"source_range":null,"target_range":null}]},{"name":"public_ports","value":false},{"name":"boot_image","value":"ami-0c6507c2e32d5e397"}],"connections":[{"constraint":{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"CloudInitGenerator@unfurl.cloud/onecommons/std:generic_types"},"name":"cloud_init","match":"cloud_init-for-dbcompute-for-discourseapp","__typename":"Requirement","visibility":"visible","target":"cloud_init-for-dbcompute-for-discourseapp"},{"constraint":{"name":"volume_attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"Volume@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"persistent":null}}},"name":"volume_attachment","match":null,"__typename":"Requirement"},{"constraint":{"name":"floating_ip","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"FloatingIP@unfurl.cloud/onecommons/std:generic_types"},"name":"floating_ip","match":null,"__typename":"Requirement"}]},"host-for-database-instance-for-discourseapp":{"name":"host-for-database-instance-for-discourseapp","title":"host-for-database-instance-for-discourseapp","template":"host-for-database-instance-for-discourseapp","state":5,"status":1,"__typename":"Resource","imported":null,"visibility":"hidden","protected":null,"attributes":[{"name":"private_dns","value":"ip-172-31-14-46.eu-central-1.compute.internal"}],"computedProperties":[{"name":"container_image","value":"<<REDACTED>>"},{"name":"container","value":{"user":"0","image":"bitnami/postgresql:latest","volumes":["/var/app/data/postgresql:/bitnami/postgresql"],"ports":["5432:5432"],"environment":{"POSTGRESQL_USERNAME":"root","POSTGRESQL_DATABASE":"discourse","POSTGRESQL_PASSWORD":"<<REDACTED>>"}}},{"name":"registry_user","value":null},{"name":"registry_password","value":"<<REDACTED>>"},{"name":"registry_url","value":null},{"name":"portspecs","value":[{"protocol":"tcp","source":5432,"target":5432,"source_range":null,"target_range":null}]}],"connections":[{"constraint":{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"Compute@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"portspecs":null,"public_ports":null}},"requirementsFilter":[{"name":"cloud_init","description":"","__typename":"RequirementConstraint","min":1,"max":1}]},"name":"host","match":"dbcompute-for-discourseapp","__typename":"Requirement","visibility":"visible","target":"dbcompute-for-discourseapp"}]},"database-instance-for-discourseapp":{"name":"database-instance-for-discourseapp","title":"Database Instance for DiscourseApp","template":"database-instance-for-discourseapp","state":null,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"host","value":"ip-172-31-14-46.eu-central-1.compute.internal"}],"computedProperties":[{"name":"container_image","value":{"eval":{"container_image":"bitnami/postgresql:latest"}}},{"name":"container","value":{"user":"0","image":"bitnami/postgresql:latest","volumes":["/var/app/data/postgresql:/bitnami/postgresql"],"ports":["5432:5432"],"environment":{"POSTGRESQL_USERNAME":"root","POSTGRESQL_DATABASE":"discourse","POSTGRESQL_PASSWORD":"<<REDACTED>>"}}},{"name":"root_user","value":"root"},{"name":"database_name","value":"discourse"},{"name":"root_password","value":"<<REDACTED>>"},{"name":"portspecs","value":[{"protocol":"tcp","source":5432,"target":5432,"source_range":null,"target_range":null}]},{"name":"public_ports","value":false}],"connections":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"PrivateContainerHost@unfurl.cloud/onecommons/std:generic_types"},"name":"host","match":"host-for-database-instance-for-discourseapp","__typename":"Requirement","visibility":"visible","target":"host-for-database-instance-for-discourseapp"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository@unfurl.cloud/onecommons/std:generic_types"},"name":"container_image_source","match":null,"__typename":"Requirement"}]},"redis-cache-for-discourseapp":{"name":"redis-cache-for-discourseapp","title":"Redis Cache for DiscourseApp","template":"redis-cache-for-discourseapp","state":3,"status":1,"__typename":"Resource","imported":null,"protected":true,"attributes":[{"name":"host","value":"aws-elasticcache-fully-managed-redisabu.qaceen.0001.euc1.cache.amazonaws.com"},{"name":"uri","value":"arn:aws:elasticache:eu-central-1:362020207168:cluster:aws-elasticcache-fully-managed-redisabu"},{"name":"console_url","value":"https://console.aws.amazon.com/elasticache/home?region=eu-central-1#/redis/aws-elasticcache-fully-managed-redisabu"}],"computedProperties":[{"name":"machine_type","value":"cache.t4g.micro"},{"name":"availability_zone","value":"us-east-1b"}],"connections":[{"constraint":{"name":"cloud","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.nodes.AWSAccount"},"name":"cloud","match":null,"__typename":"Requirement","visibility":"hidden"}]},"discourseapp":{"name":"discourseapp","title":"DiscourseApp","template":"discourseapp","state":null,"status":1,"__typename":"Resource","imported":":discourseapp:the_app","protected":null,"attributes":[{"name":"url","value":"https://discourse.opencloudservices.net:443"}],"computedProperties":[{"name":"health_check_url","value":"https://discourse.opencloudservices.net/__unfurl/proxy_health"},{"name":"readiness_estimate","value":180}],"connections":[{"constraint":{"name":"container","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":"container","resourceType":"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"","__typename":"RequirementConstraint","min":1,"max":1,"resourceType":"HTTPSProxyContainerHost@unfurl.cloud/onecommons/std:generic_types"}]},"name":"container","match":"container-lttfcxz9","__typename":"Requirement","visibility":"hidden","target":"container-lttfcxz9"},{"constraint":{"name":"sidekiqcontainer","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":"sidekiqcontainer","resourceType":"unfurl.nodes.ContainerService@unfurl.cloud/onecommons/std:generic_types","requirementsFilter":[{"name":"host","description":"","__typename":"RequirementConstraint","requirementsFilter":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Sidekiq Compute"}]}]},"name":"sidekiqcontainer","match":"sidekiqcontainer-lttfcxzp","__typename":"Requirement","visibility":"hidden","target":"sidekiqcontainer-lttfcxzp"},{"constraint":{"name":"db","description":"External database for Discourse","__typename":"RequirementConstraint","title":"Database Instance","min":1,"max":1,"match":null,"resourceType":"PostgresDB@unfurl.cloud/onecommons/std:generic_types","inputsSchema":{"properties":{"database_name":null}}},"name":"db","match":"database-instance-for-discourseapp","__typename":"Requirement","visibility":"visible","target":"database-instance-for-discourseapp"},{"constraint":{"name":"redis","description":"External cache for discourse","__typename":"RequirementConstraint","title":"Redis Cache","min":1,"max":1,"match":null,"resourceType":"Redis@unfurl.cloud/onecommons/std:generic_types"},"name":"redis","match":"redis-cache-for-discourseapp","__typename":"Requirement","visibility":"visible","target":"redis-cache-for-discourseapp"},{"constraint":{"name":"mail","description":"Mail server for discourse","__typename":"RequirementConstraint","title":"Mail Server","min":0,"max":1,"match":null,"resourceType":"SMTPServer@unfurl.cloud/onecommons/std:generic_types"},"name":"mail","match":null,"__typename":"Requirement"}]},"the_app":{"name":"the_app","title":"Nestedcloud AWS","template":"the_app","state":null,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[],"computedProperties":[{"name":"url","value":"https://discourse.opencloudservices.net:443"}],"connections":[{"constraint":{"name":"nested","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.WebApp@unfurl.cloud/onecommons/std:generic_types"},"name":"nested","match":"discourseapp","__typename":"Requirement","visibility":"visible","target":"discourseapp"}]},"dockerhost_aws_bootimage":{"name":"dockerhost_aws_bootimage","title":"dockerhost_aws_bootimage","template":"dockerhost_aws_bootimage","state":5,"status":1,"__typename":"Resource","imported":null,"visibility":"hidden","protected":null,"attributes":[{"name":"boot_image","value":"ami-0c6507c2e32d5e397"}],"computedProperties":[],"connections":[]},"aws_metadata":{"name":"aws_metadata","title":"aws_metadata","template":"aws_metadata","state":5,"status":1,"__typename":"Resource","imported":null,"visibility":"hidden","protected":null,"attributes":[{"name":"machine_types","value":[{"name":"t1.micro","mem":627,"cpu":1,"arch":["i386","x86_64"]},{"name":"c6i.8xlarge","mem":65536,"cpu":32,"arch":["x86_64"]}]},{"name":"availability_zone","value":"us-east-1b"}],"computedProperties":[],"connections":[]}},"Deployment":{"nestedcloud-aws":{"name":"nestedcloud-aws","title":"Nestedcloud AWS","__typename":"Deployment","resources":["cloud_init-for-compute-for-discourseapp","compute-for-discourseapp","host-for-container-lttfcxz9","container-lttfcxz9","__route53dnszone","sidekiqcontainer-lttfcxzp","cloud_init-for-dbcompute-for-discourseapp","dbcompute-for-discourseapp","host-for-database-instance-for-discourseapp","database-instance-for-discourseapp","redis-cache-for-discourseapp","discourseapp","the_app","dockerhost_aws_bootimage","aws_metadata"],"primary":"the_app","deploymentTemplate":"nestedcloud-aws","workflow":"deploy","status":1,"summary":"10 tasks (10 changed, 10 ok, 0 failed, 0 blocked, 0 unknown, 0 skipped)","deployTime":"2024-03-16 01:46:42+00:00","url":"https://discourse.opencloudservices.net:443","packages":{"onecommons/blueprints/nestedcloud":{"version":"(MISSING)"},"onecommons/std":{"version":"(MISSING)"},"onecommons/blueprints/discourse":{"version":"v1.0.0"}}}},"DeploymentEnvironment":{"connections":{"primary_provider":{"type":"unfurl.relationships.ConnectsTo.AWSAccount","name":"primary_provider","title":"primary_provider","description":"","directives":[],"properties":[],"dependencies":[]}},"primary_provider":{"type":"unfurl.relationships.ConnectsTo.AWSAccount","name":"primary_provider","title":"primary_provider","description":"","directives":[],"properties":[],"dependencies":[]},"instances":{},"repositories":{"std":{"url":"https://unfurl.cloud/onecommons/std.git"}}},"DeploymentPath":{"environments/aws-20240316t012327280z/onecommons/blueprints/nestedcloud/nestedcloud-aws":{"__typename":"DeploymentPath","name":"environments/aws-20240316t012327280z/onecommons/blueprints/nestedcloud/nestedcloud-aws","project_id":631,"pipelines":[{"id":2266,"flags":{"stuck":false,"auto_devops":false,"merge_request":false,"yaml_errors":false,"retryable":false,"cancelable":true,"failure_reason":false,"detached_merge_request_pipeline":false,"merge_request_pipeline":false,"latest":true},"commit_id":"28a09ff711aaf2ba7677c420806e5ffea93a95bf","variables":{"WORKFLOW":"deploy","DEPLOY_ENVIRONMENT":"aws-20240316t012327280z","BLUEPRINT_PROJECT_URL":"http://tunnel.abreidenbach.com:3000/onecommons/blueprints/nestedcloud.git","DEPLOY_PATH":"environments/aws-20240316t012327280z/onecommons/blueprints/nestedcloud/nestedcloud-aws","DEPLOYMENT":"nestedcloud-aws","DEPLOYMENT_BLUEPRINT":"aws","UNFURL_LOGGING":"trace","EXTRA_WORKFLOW_ARGS":"--dryrun"},"upstream_commit_id":null,"upstream_pipeline_id":null,"upstream_project_id":null},{"id":2267,"flags":{"stuck":false,"auto_devops":false,"merge_request":false,"yaml_errors":false,"retryable":false,"cancelable":true,"failure_reason":false,"detached_merge_request_pipeline":false,"merge_request_pipeline":false,"latest":true},"commit_id":"ccfbbeadb470ff211f023ddfd1c91a10d62987b9","variables":{"WORKFLOW":"deploy","DEPLOY_ENVIRONMENT":"aws-20240316t012327280z","BLUEPRINT_PROJECT_URL":"http://tunnel.abreidenbach.com:3000/onecommons/blueprints/nestedcloud.git","DEPLOY_PATH":"environments/aws-20240316t012327280z/onecommons/blueprints/nestedcloud/nestedcloud-aws","DEPLOYMENT":"nestedcloud-aws","DEPLOYMENT_BLUEPRINT":"aws","UNFURL_LOGGING":"trace","EXTRA_WORKFLOW_ARGS":"--dryrun"},"upstream_commit_id":null,"upstream_pipeline_id":null,"upstream_project_id":null}],"environment":"aws-20240316t012327280z","incremental_deploy":true}}}