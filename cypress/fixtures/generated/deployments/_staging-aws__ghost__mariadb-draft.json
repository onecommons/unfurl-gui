{"DeploymentTemplate":{"mariadb-draft":{"name":"mariadb-draft","title":"mariadb-draft","cloud":"unfurl.relationships.ConnectsTo.AWSAccount","description":"Deploy using Amazon Elastic Compute Cloud (EC2)","__typename":"DeploymentTemplate","slug":"mariadb-draft","blueprint":"ghost","primary":"the_app","resourceTemplates":["the_app","self-hosted-mariadb","db-dockerhost","container_service","dockerhost"],"ResourceTemplate":{},"projectPath":"testing/ghost","source":"aws"}},"ApplicationBlueprint":{"ghost":{"name":"ghost","__typename":"ApplicationBlueprint","title":"Ghost","primary":"GhostCMS","deploymentTemplates":["gcp","aws","gcp-example","selfhosted","mariadb-draft"],"description":null,"livePreview":null,"sourceCodeUrl":null,"image":null,"primaryDeploymentBlueprint":"gcp"}},"DefaultTemplate":{"gcp_artifacts":{"name":"gcp_artifacts","type":"unfurl.nodes.LocalRepository","title":"gcp_artifacts","description":"","directives":["default"],"properties":[{"name":"repository","value":null},{"name":"url","value":null},{"name":"credential","value":null}],"dependencies":[],"visibility":"hidden","__typename":"DefaultTemplate"},"db-dockerhost":{"name":"db-dockerhost","type":"unfurl.nodes.DockerHost","title":"db-dockerhost","description":"This is an incomplete, placeholder template that needs to be defined in your blueprint","directives":["default"],"properties":[],"dependencies":[],"visibility":"hidden","__typename":"DefaultTemplate"},"gcp_metadata":{"name":"gcp_metadata","type":"unfurl.nodes.GCPMetadata","title":"gcp_metadata","description":"","directives":["default"],"properties":[],"dependencies":[],"visibility":"hidden","__typename":"DefaultTemplate"},"configurator-artifacts":{"name":"configurator-artifacts","type":"unfurl.nodes.LocalRepository","title":"configurator-artifacts","description":"","directives":["default"],"properties":[{"name":"repository","value":null},{"name":"url","value":null},{"name":"credential","value":null}],"dependencies":[],"visibility":"hidden","__typename":"DefaultTemplate"},"dockerhost-aws-bootimage":{"name":"dockerhost-aws-bootimage","type":"unfurl.nodes.AMIBootImage","title":"dockerhost-aws-bootimage","description":"","directives":["default"],"properties":[{"name":"owner","value":"099720109477"},{"name":"name_regex","value":"focal"}],"dependencies":[{"constraint":{"name":"configures","title":"configures","description":"","min":0,"max":1,"match":null,"resourceType":"tosca.nodes.Root","visibility":"visible"},"name":"configures","__typename":"Requirement"}],"visibility":"hidden","__typename":"DefaultTemplate"},"dockerhost-gcp-bootimage":{"name":"dockerhost-gcp-bootimage","type":"unfurl.nodes.GCPBootImage","title":"dockerhost-gcp-bootimage","description":"","directives":["default"],"properties":[{"name":"project","value":"cos-cloud"},{"name":"family","value":"cos-85-lts"}],"dependencies":[{"constraint":{"name":"configures","title":"configures","description":"","min":0,"max":1,"match":null,"resourceType":"tosca.nodes.Root","visibility":"visible"},"name":"configures","__typename":"Requirement"}],"visibility":"hidden","__typename":"DefaultTemplate"},"aws_metadata":{"name":"aws_metadata","type":"unfurl.nodes.AWSMetadata","title":"aws_metadata","description":"","directives":["default"],"properties":[],"dependencies":[],"visibility":"hidden","__typename":"DefaultTemplate"}},"ResourceTemplate":{"the_app":{"name":"the_app","type":"GhostCMS","title":"the_app","description":"","directives":[],"properties":[],"dependencies":[{"constraint":{"name":"db","title":"Database","description":"","min":1,"max":1,"match":null,"resourceType":"MySQLDB","visibility":"visible"},"name":"db","__typename":"Requirement","completionStatus":"created","valid":true,"match":"self-hosted-mariadb"},{"constraint":{"name":"container","title":"container","description":"","visibility":"hidden","min":1,"max":1,"match":"container_service","resourceType":"unfurl.nodes.ContainerService"},"name":"container","__typename":"Requirement","match":"container_service"}],"__typename":"ResourceTemplate"},"container_service":{"name":"container_service","type":"unfurl.nodes.ContainerService","title":"container_service","description":"","directives":[],"properties":[{"name":"container","value":{"image":"bitnami/ghost:latest","ports":["2368:2368"],"environment":{"eval":{"to_env":{"BITNAMI_DEBUG":"true","GHOST_USERNAME":{"eval":".configured_by::username"},"GHOST_PASSWORD":{"eval":".configured_by::password"},"GHOST_EMAIL":{"eval":".configured_by::email"},"GHOST_BLOG_TITLE":{"eval":".configured_by::blog_title"},"GHOST_HOST":{"eval":"host"},"GHOST_DATABASE_NAME":{"eval":".configured_by::database_name"},"GHOST_DATABASE_USER":{"eval":".configured_by::database_user"},"GHOST_DATABASE_PASSWORD":{"eval":".configured_by::database_password"},"GHOST_DATABASE_HOST":{"eval":".configured_by::.targets::db::host"},"GHOST_DATABASE_PORT_NUMBER":{"eval":".configured_by::.targets::db::port"},"MYSQL_CLIENT_DATABASE_HOST":{"eval":".configured_by::.targets::db::host"},"MYSQL_CLIENT_DATABASE_ROOT_USER":{"eval":".configured_by::.targets::db::root_user"},"MYSQL_CLIENT_DATABASE_ROOT_PASSWORD":{"eval":".configured_by::.targets::db::root_password"},"MYSQL_CLIENT_DATABASE_PORT_NUMBER":{"eval":".configured_by::.targets::db:port"},"MYSQL_CLIENT_CREATE_DATABASE_NAME":{"eval":".configured_by::database_name"},"MYSQL_CLIENT_CREATE_DATABASE_USER":{"eval":".configured_by::database_user"},"MYSQL_CLIENT_CREATE_DATABASE_PASSWORD":{"eval":".configured_by::database_password"},"GHOST_SMTP_HOST":{"eval":".configured_by::.targets::mail::host"},"GHOST_SMTP_PORT":{"eval":".configured_by::.targets::mail::port"},"GHOST_SMTP_USER":{"eval":".configured_by::.targets::mail::user_name"},"GHOST_SMTP_PASSWORD":{"eval":".configured_by::.targets::mail::password"}}}}}}],"dependencies":[{"constraint":{"name":"host","title":"host","description":"","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.DockerHost","visibility":"hidden"},"name":"host","__typename":"Requirement","match":"dockerhost"}],"__typename":"ResourceTemplate"},"dockerhost":{"name":"dockerhost","type":"unfurl.nodes.TraefikDockerComputeHost","title":"dockerhost","description":"","directives":[],"properties":[],"dependencies":[],"__typename":"ResourceTemplate"},"self-hosted-mariadb":{"name":"self-hosted-mariadb","type":"MariaDBInstance","title":"Self-hosted MariaDB","__typename":"ResourceTemplate","properties":[],"dependencies":[{"constraint":{"name":"host","title":"host","description":"","visibility":"hidden","min":1,"max":1,"match":"db-dockerhost","resourceType":"unfurl.nodes.DockerHost"},"name":"host","match":"db-dockerhost","target":null}]},"db-dockerhost":{"name":"db-dockerhost","type":"unfurl.nodes.DockerComputeHost","title":"db-dockerhost","description":"","directives":[],"properties":[],"dependencies":[],"__typename":"ResourceTemplate"}},"DeploymentPath":{"environments/staging-aws/testing/ghost/mariadb-draft":{"name":"environments/staging-aws/testing/ghost/mariadb-draft","__typename":"DeploymentPath","environment":"staging-aws"}}}
