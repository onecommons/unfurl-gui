{"repositories":{"types":{"url":"https://gitlab.com/onecommons/unfurl-types","file":"dummy-ensemble.yaml"},"nextcloud":{"url":"https://unfurl.cloud/onecommons/blueprints/nextcloud.git","file":"ensemble-template.yaml"}},"ResourceType":{"Nextcloud":{"name":"Nextcloud","title":"Nextcloud","description":"","_sourceinfo":{"repository":"nextcloud","url":"https://unfurl.cloud/onecommons/blueprints/nextcloud.git","file":"ensemble-template.yaml#spec/service_template"},"extends":["Nextcloud","unfurl.nodes.WebApp","unfurl.nodes.ContainerApp","unfurl.nodes.App","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["create"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"database_name":{"title":"Database Name","default":"nextcloud","required":true,"description":"Preferred name for PostgresDB database","user_settable":true,"type":"string"},"from_address":{"title":"Email Address","description":"Use this address for the 'from' field in the emails sent by Nextcloud.","type":"string"},"mail_domain":{"title":"Mail Domain","description":"Set a different domain for the emails than the domain where Nextcloud is installed.","type":"string"},"subdomain":{"title":"Subdomain","default":"nextcloud","required":true,"description":"Choose a subdomain for your deployment. A subdomain of 'www', will be at www.your.domain","user_settable":true,"type":"string","pattern":"^[a-z0-9]([-a-z0-9]*[a-z0-9])*$"}}},"computedPropertiesSchema":{"type":"object","properties":{"health_check_url":{"title":"health_check_url","required":true,"export":true,"hidden":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","export":true,"hidden":true,"$toscatype":"integer","type":"number"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"container","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.nodes.ContainerService"},{"name":"mail","description":"Mail server for user registration and notifications (can be configured after deployment)","__typename":"RequirementConstraint","title":"Mail Server","min":0,"max":1,"match":null,"resourceType":"SMTPServer"},{"name":"db","description":"External database for Nextcloud (optional)","__typename":"RequirementConstraint","title":"Database Instance","min":0,"max":1,"match":null,"resourceType":"PostgresDB","inputsSchema":{"properties":{"database_name":null}}},{"name":"redis","description":"External cache for Nextcloud (optional)","__typename":"RequirementConstraint","title":"Redis Cache","min":0,"max":1,"match":null,"resourceType":"Redis"}],"directives":["substitute"]},"unfurl.nodes.WebApp":{"name":"unfurl.nodes.WebApp","title":"WebApp","description":"An app exposed through https","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.WebApp","unfurl.nodes.ContainerApp","unfurl.nodes.App","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"subdomain":{"title":"Subdomain","default":"www","required":true,"description":"Choose a subdomain for your deployment. A subdomain of 'www', will be at www.your.domain","user_settable":true,"type":"string","pattern":"^[a-z0-9]([-a-z0-9]*[a-z0-9])*$"}}},"computedPropertiesSchema":{"type":"object","properties":{"health_check_url":{"title":"health_check_url","required":true,"export":true,"hidden":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","export":true,"hidden":true,"$toscatype":"integer","type":"number"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"container","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.ContainerService"}]},"unfurl.nodes.ContainerApp":{"name":"unfurl.nodes.ContainerApp","title":"ContainerApp","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.ContainerApp","unfurl.nodes.App","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"health_check_url":{"title":"health_check_url","required":true,"export":true,"hidden":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","export":true,"hidden":true,"$toscatype":"integer","type":"number"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"container","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.ContainerService"}]},"unfurl.nodes.App":{"name":"unfurl.nodes.App","title":"App","description":"User-facing application composed of one or more services","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.App","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"url":{"title":"url","required":true,"type":"string"}}},"requirements":[]},"Nestedcloud":{"name":"Nestedcloud","title":"Nestedcloud","description":"","extends":["Nestedcloud","unfurl.nodes.App","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["create"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"url":{"title":"url","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"url":{"title":"url","required":true,"type":"string"}}},"requirements":[{"name":"nested","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.WebApp"}]},"unfurl.nodes.TraefikDockerComputeHost":{"name":"unfurl.nodes.TraefikDockerComputeHost","title":"TraefikDockerComputeHost","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.TraefikDockerComputeHost","unfurl.nodes.HttpsProxyContainerComputeHost","unfurl.nodes.ContainerComputeHost","unfurl.nodes.DockerHost","unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["configure","create"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"protocol":{"title":"protocol","default":"https","required":true,"type":"string"},"health_check_url":{"title":"health_check_url","required":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","default":180,"required":true,"description":"Guestimate when we can expect the deployed app to be ready (in seconds)","$toscatype":"integer","type":"number"},"volume_disk":{"title":"volume_disk","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"mountpoint":{"title":"mountpoint","default":"/var/app/data","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.Compute","inputsSchema":{"properties":{"portspecs":null,"user_data":null,"public_ports":null}}},{"name":"dns","description":"DNS provider for domain name configuration","__typename":"RequirementConstraint","title":"DNS","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.DNSZone"}]},"unfurl.nodes.HttpsProxyContainerComputeHost":{"name":"unfurl.nodes.HttpsProxyContainerComputeHost","title":"HTTP Docker Compute Host","description":"Configure cloud init to run a Docker environment for serving a website behind a reverse proxy.","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.HttpsProxyContainerComputeHost","unfurl.nodes.ContainerComputeHost","unfurl.nodes.DockerHost","unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"protocol":{"title":"protocol","default":"https","required":true,"type":"string"},"health_check_url":{"title":"health_check_url","required":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","default":180,"required":true,"description":"Guestimate when we can expect the deployed app to be ready (in seconds)","$toscatype":"integer","type":"number"},"volume_disk":{"title":"volume_disk","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"mountpoint":{"title":"mountpoint","default":"/var/app/data","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.Compute","inputsSchema":{"properties":{"portspecs":null,"user_data":null,"public_ports":null}}},{"name":"dns","description":"DNS provider for domain name configuration","__typename":"RequirementConstraint","title":"DNS","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.DNSZone"}]},"unfurl.nodes.ContainerComputeHost":{"name":"unfurl.nodes.ContainerComputeHost","title":"ContainerComputeHost","description":"Configure cloud init to run a Docker environment","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.ContainerComputeHost","unfurl.nodes.DockerHost","unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"volume_disk":{"title":"volume_disk","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"mountpoint":{"title":"mountpoint","default":"/var/app/data","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.Compute","inputsSchema":{"properties":{"user_data":null,"portspecs":null,"public_ports":null}}}]},"unfurl.nodes.DockerHost":{"name":"unfurl.nodes.DockerHost","title":"DockerHost","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.DockerHost","unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.ServiceHost":{"name":"unfurl.nodes.ServiceHost","title":"ServiceHost","description":"Addressable instance that hosts services","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.AzureCompute":{"name":"unfurl.nodes.AzureCompute","title":"Azure Instance","description":"","badge":"Compute","icon":"/onecommons/unfurl-types/-/raw/main/icons/AzureCompute.svg#no-invert","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"azure/compute.yaml"},"extends":["unfurl.nodes.AzureCompute","unfurl.nodes.Compute","unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["check","create","default","delete","restart"],"implementation_requirements":["ConnectsTo.AzureEnvironment"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"credentials":{"title":"credentials","required":true,"user_settable":true,"tab_title":"Credentials","$toscatype":"unfurl.datatypes.AzureVMCredentials","type":"object","properties":{"admin_username":{"title":"Admin Username","default":"ufcadmin","required":true,"user_settable":true,"type":"string"},"admin_password":{"title":"Admin Password","default":{"_generate":{"preset":"password"}},"required":true,"user_settable":true,"sensitive":true,"type":"string","allOf":[{"minLength":8},{"maxLength":255},{"pattern":".*?[a-z].*"},{"pattern":".*?[A-Z].*"},{"pattern":".*?[0-9].*"}]},"$toscatype":{"const":"unfurl.datatypes.AzureVMCredentials"}}},"num_cpus":{"title":"CPUs","required":true,"description":"Number of CPUs for the server","$toscatype":"integer","type":"number","minimum":1,"maximum":8},"mem_size":{"title":"Memory","required":true,"description":"Amount of RAM (in MB)","default_unit":"MB","$toscatype":"scalar-unit.size","type":"number","minimum":1000,"maximum":20000},"disk_size":{"title":"Storage","required":true,"description":"Size of boot disk (in GB)","default_unit":"GB","$toscatype":"scalar-unit.size","type":"number","minimum":10,"maximum":2000}}},"computedPropertiesSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"computed":true,"type":"string"},"machine_type":{"title":"machine_type","required":true,"type":"string"},"user_data":{"title":"User Data","required":true,"computed":true,"visibility":"hidden","type":"string"},"portspecs":{"title":"portspecs","default":[],"required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"public_ports":{"title":"public_ports","default":false,"required":true,"description":"Whether this instance should be exposed to the internet","computed":true,"user_settable":false,"type":"boolean"},"name":{"title":"name","required":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"id":{"title":"id","required":true,"type":"string"}}},"requirements":[{"name":"floating-ip","description":"","__typename":"RequirementConstraint","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.FloatingIP"},{"name":"volume-attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"tosca.nodes.BlockStorage","inputsSchema":{"properties":{"persistent":null}}}]},"unfurl.nodes.Compute":{"name":"unfurl.nodes.Compute","title":"Compute","description":"","badge":"Compute","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.Compute","unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"num_cpus":{"title":"CPUs","required":true,"description":"Number of CPUs for the server","$toscatype":"integer","type":"number","minimum":1,"maximum":8},"mem_size":{"title":"Memory","required":true,"description":"Amount of RAM (in MB)","default_unit":"MB","$toscatype":"scalar-unit.size","type":"number","minimum":1000,"maximum":20000},"disk_size":{"title":"Storage","required":true,"description":"Size of boot disk (in GB)","default_unit":"GB","$toscatype":"scalar-unit.size","type":"number","minimum":10,"maximum":2000}}},"computedPropertiesSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"computed":true,"type":"string"},"user_data":{"title":"User Data","required":true,"computed":true,"visibility":"hidden","type":"string"},"portspecs":{"title":"portspecs","default":[],"required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"public_ports":{"title":"public_ports","default":false,"required":true,"description":"Whether this instance should be exposed to the internet","computed":true,"user_settable":false,"type":"boolean"},"name":{"title":"name","required":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"id":{"title":"id","required":true,"type":"string"}}},"requirements":[{"name":"volume-attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"tosca.nodes.BlockStorage","inputsSchema":{"properties":{"persistent":null}}}]},"unfurl.nodes.AzurePublicIP":{"name":"unfurl.nodes.AzurePublicIP","title":"AzurePublicIP","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"azure/compute.yaml"},"extends":["unfurl.nodes.AzurePublicIP","unfurl.nodes.FloatingIP","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["create","default","delete"],"implementation_requirements":["ConnectsTo.AzureEnvironment"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"name":{"title":"name","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"id":{"title":"id","required":true,"type":"string"},"ip_address":{"title":"IP4 Address","required":true,"type":"string"}}},"requirements":[]},"unfurl.nodes.FloatingIP":{"name":"unfurl.nodes.FloatingIP","title":"Floating IP4 Address","description":"A static, re-assignable IP4 address","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.FloatingIP","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"id":{"title":"id","required":true,"type":"string"},"ip_address":{"title":"IP4 Address","required":true,"type":"string"}}},"requirements":[]},"Route53DNSZone":{"name":"Route53DNSZone","title":"Amazon Web Services DNS","description":"Amazon Web Services Route53 DNS provider for domain name configuration","badge":"DNS","icon":"/onecommons/unfurl-types/-/raw/main/icons/aws-route53.svg","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"dns-services.yaml"},"extends":["Route53DNSZone","unfurl.nodes.DNSZone","tosca.nodes.Root","unfurl.capabilities.DNSZone","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":["check","configure","connect","delete"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"access_key_id":{"title":"Access Key ID","default":{"get_env":"AWS_ACCESS_KEY_ID"},"user_settable":true,"type":"string"},"secret_access_key":{"title":"Secret Access Key","default":{"get_env":"AWS_SECRET_ACCESS_KEY"},"sensitive":true,"user_settable":true,"type":"string"},"name":{"title":"Domain Name","required":true,"description":"Top level part of the DNS name (e.g. example.com)","type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"session_token":{"title":"AWS session token","default":{"get_env":"AWS_SESSION_TOKEN"},"sensitive":true,"type":"string"},"provider":{"title":"provider","default":{"class":"octodns.provider.route53.Route53Provider","access_key_id":{"eval":"access_key_id"},"secret_access_key":{"eval":"secret_access_key"},"session_token":{"eval":"session_token"}},"required":true,"description":"OctoDNS provider configuration","sensitive":true,"computed":true,"type":"object"},"records":{"title":"records","default":{},"required":true,"description":"DNS records to add to the zone","computed":true,"type":"object","additionalProperties":{"required":true,"$toscatype":"unfurl.datatypes.DNSRecord","type":"object","properties":{"type":{"title":"type","required":true,"type":"string"},"value":{"title":"value","type":"string"},"values":{"title":"values","type":"array"},"$toscatype":{"const":"unfurl.datatypes.DNSRecord"}}}},"exclusive":{"title":"exclusive","default":false,"required":true,"description":"Zone exclusively managed by this instance (removes unrecognized records)","type":"boolean"},"default_ttl":{"title":"Default TTL","default":300,"required":true,"$toscatype":"integer","type":"number"},"testing":{"title":"Testing","default":false,"required":true,"description":"Is this DNS zone being used for testing? (If set, Let's Encrypt staging will be used.)","type":"boolean"}}},"outputsSchema":{"type":"object","properties":{"zone":{"title":"zone","required":true,"description":"The records found in the zone","internal":true,"type":"object"},"managed_records":{"title":"Managed Records","description":"The records in the zone that are managed by this instance","type":"object"}}},"requirements":[{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone"}]},"unfurl.nodes.DNSZone":{"name":"unfurl.nodes.DNSZone","title":"DNS Zone","description":"","_sourceinfo":{"repository":"unfurl","url":"/src/unfurl/unfurl","file":"configurators/dns-template.yaml"},"extends":["unfurl.nodes.DNSZone","tosca.nodes.Root","unfurl.capabilities.DNSZone","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"name":{"title":"Domain Name","required":true,"description":"Top level part of the DNS name (e.g. example.com)","type":"string"},"provider":{"title":"provider","required":true,"description":"OctoDNS provider configuration","sensitive":true,"type":"object"}}},"computedPropertiesSchema":{"type":"object","properties":{"records":{"title":"records","default":{},"required":true,"description":"DNS records to add to the zone","computed":true,"type":"object","additionalProperties":{"required":true,"$toscatype":"unfurl.datatypes.DNSRecord","type":"object","properties":{"type":{"title":"type","required":true,"type":"string"},"value":{"title":"value","type":"string"},"values":{"title":"values","type":"array"},"$toscatype":{"const":"unfurl.datatypes.DNSRecord"}}}},"exclusive":{"title":"exclusive","default":false,"required":true,"description":"Zone exclusively managed by this instance (removes unrecognized records)","type":"boolean"},"default_ttl":{"title":"Default TTL","default":300,"required":true,"$toscatype":"integer","type":"number"},"testing":{"title":"Testing","default":false,"required":true,"description":"Is this DNS zone being used for testing? (If set, Let's Encrypt staging will be used.)","type":"boolean"}}},"outputsSchema":{"type":"object","properties":{"zone":{"title":"zone","required":true,"description":"The records found in the zone","internal":true,"type":"object"},"managed_records":{"title":"Managed Records","description":"The records in the zone that are managed by this instance","type":"object"}}},"requirements":[{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone"}]},"GenericSMTPServer":{"name":"GenericSMTPServer","title":"Generic SMTP Server","description":"SMTP mail server for sending mail.","badge":"Mail","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["GenericSMTPServer","SMTPServer","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["connect"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"host":{"title":"SMTP host","required":true,"type":"string"},"user_name":{"title":"User Name","required":true,"type":"string"},"password":{"title":"Secret","required":true,"sensitive":true,"type":"string"},"protocol":{"title":"protocol","type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"port":{"title":"SMTP Port","default":587,"required":true,"$toscatype":"tosca.datatypes.network.PortDef","type":"number","minimum":1,"maximum":65535},"authentication":{"title":"Authentication","default":"plain","required":true,"type":"string","const":["plain"]},"starttls_auto":{"title":"Automatically Start TLS","default":true,"required":true,"type":"boolean"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"SMTPServer":{"name":"SMTPServer","title":"Mail Server","description":"SMTP Mail server for sending mail","badge":"Mail","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["SMTPServer","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"host":{"title":"SMTP host","required":true,"type":"string"},"user_name":{"title":"User Name","required":true,"type":"string"},"password":{"title":"Secret","required":true,"sensitive":true,"type":"string"},"protocol":{"title":"protocol","type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"port":{"title":"SMTP Port","default":587,"required":true,"$toscatype":"tosca.datatypes.network.PortDef","type":"number","minimum":1,"maximum":65535},"authentication":{"title":"Authentication","default":"plain","required":true,"type":"string","const":["plain"]},"starttls_auto":{"title":"Automatically Start TLS","default":true,"required":true,"type":"boolean"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"PostgresDBInstance":{"name":"PostgresDBInstance","title":"Self-hosted PostgresDB","description":"https://github.com/bitnami/bitnami-docker-postgresql","badge":"Database","icon":"/onecommons/unfurl-types/-/raw/main/icons/PostgresDB.svg","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["PostgresDBInstance","PostgresDB","SqlDB","unfurl.nodes.SoftwareComponent","tosca.nodes.Root","unfurl.nodes.ContainerService","unfurl.nodes.Service","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["create"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"root_user":{"title":"root_user","default":"root","required":true,"user_settable":true,"type":"string"},"root_password":{"title":"root_password","default":{"_generate":{"preset":"password"}},"required":true,"sensitive":true,"user_settable":true,"type":"string"},"database_name":{"title":"database_name","description":"Name of initial database to create (optional)","type":"string"},"software_version":{"title":"Software Version","type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"container":{"title":"container","default":{"user":"0","image":"bitnami/postgresql:latest","volumes":["/var/app/data/postgresql:/bitnami/postgresql"],"ports":["5432:5432"],"environment":{"POSTGRESQL_USERNAME":{"eval":"root_user"},"POSTGRESQL_DATABASE":{"eval":"database_name"},"POSTGRESQL_PASSWORD":{"eval":"root_password"}}},"tab_title":"Container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"database_type":{"title":"database_type","default":"POSTGRES","required":true,"user_settable":false,"type":"string"},"portspecs":{"title":"portspecs","required":true,"description":"Ports the service should be running on.","type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"files":{"title":"files","default":[],"required":true,"type":"array","items":{"required":true,"type":"object"}},"env":{"title":"env","default":{},"required":true,"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_image":{"title":"container_image","required":true,"type":"string"},"health_check_url":{"title":"health_check_url","required":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","$toscatype":"integer","type":"number"},"public_ports":{"title":"public_ports","default":false,"required":true,"description":"Whether this service should be exposed to the internet","user_settable":false,"type":"boolean"},"host":{"title":"host","required":true,"description":"domain name or IP address of the endpoint","type":"string"},"port":{"title":"port","required":true,"$toscatype":"tosca.datatypes.network.PortDef","type":"number","minimum":1,"maximum":65535},"url":{"title":"url","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":"db-dockerhost","resourceType":"unfurl.nodes.DockerComputeHost"},{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository"}]},"PostgresDB":{"name":"PostgresDB","title":"PostgresDB","description":"","badge":"Database","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["PostgresDB","SqlDB","unfurl.nodes.SoftwareComponent","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"root_user":{"title":"root_user","default":"root","required":true,"user_settable":true,"type":"string"},"root_password":{"title":"root_password","default":{"_generate":{"preset":"password"}},"required":true,"sensitive":true,"user_settable":true,"type":"string"},"database_name":{"title":"database_name","description":"Name of initial database to create (optional)","type":"string"},"software_version":{"title":"Software Version","type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"database_type":{"title":"database_type","default":"POSTGRES","required":true,"user_settable":false,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"SqlDB":{"name":"SqlDB","title":"SqlDB","description":"","badge":"Database","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["SqlDB","unfurl.nodes.SoftwareComponent","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"root_user":{"title":"root_user","default":"root","required":true,"user_settable":true,"type":"string"},"root_password":{"title":"root_password","default":{"_generate":{"preset":"password"}},"required":true,"sensitive":true,"user_settable":true,"type":"string"},"database_name":{"title":"database_name","description":"Name of initial database to create (optional)","type":"string"},"software_version":{"title":"Software Version","type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"database_type":{"title":"database_type","required":true,"user_settable":false,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.SoftwareComponent":{"name":"unfurl.nodes.SoftwareComponent","title":"SoftwareComponent","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.SoftwareComponent","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"software_version":{"title":"Software Version","type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.ContainerService":{"name":"unfurl.nodes.ContainerService","title":"ContainerService","description":"A service that runs a Docker (OCI) image or Docker Compose file","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.ContainerService","unfurl.nodes.Service","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"container":{"title":"container","tab_title":"Container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}}}},"computedPropertiesSchema":{"type":"object","properties":{"portspecs":{"title":"portspecs","required":true,"description":"Ports the service should be running on.","type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"files":{"title":"files","default":[],"required":true,"type":"array","items":{"required":true,"type":"object"}},"env":{"title":"env","default":{},"required":true,"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_image":{"title":"container_image","required":true,"type":"string"},"health_check_url":{"title":"health_check_url","required":true,"type":"string"},"readiness_estimate":{"title":"readiness_estimate","required":true,"description":"Guesstimate when we can expect the deployed app to be ready (in seconds)","$toscatype":"integer","type":"number"},"public_ports":{"title":"public_ports","default":false,"required":true,"description":"Whether this service should be exposed to the internet","user_settable":false,"type":"boolean"},"host":{"title":"host","required":true,"description":"domain name or IP address of the endpoint","type":"string"},"port":{"title":"port","required":true,"$toscatype":"tosca.datatypes.network.PortDef","type":"number","minimum":1,"maximum":65535},"url":{"title":"url","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"unfurl.nodes.DockerHost"},{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository"}]},"unfurl.nodes.Service":{"name":"unfurl.nodes.Service","title":"Service","description":"A service with one or more port and ip address endpoints","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.Service","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"portspecs":{"title":"portspecs","required":true,"description":"Ports the service should be running on.","type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}}}},"computedPropertiesSchema":{"type":"object","properties":{"host":{"title":"host","required":true,"description":"domain name or IP address of the endpoint","type":"string"},"port":{"title":"port","required":true,"$toscatype":"tosca.datatypes.network.PortDef","type":"number","minimum":1,"maximum":65535},"url":{"title":"url","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"unfurl.nodes.ServiceHost"}]},"unfurl.nodes.DockerComputeHost":{"name":"unfurl.nodes.DockerComputeHost","title":"DockerComputeHost","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.DockerComputeHost","unfurl.nodes.ContainerComputeHost","unfurl.nodes.DockerHost","unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["configure","create"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"volume_disk":{"title":"volume_disk","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"mountpoint":{"title":"mountpoint","default":"/var/app/data","description":"disk device of persistent volume","computed":true,"visibility":"hidden","type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.Compute","inputsSchema":{"properties":{"user_data":null,"portspecs":null,"public_ports":null}}}]},"UnfurlUserDNSZone":{"name":"UnfurlUserDNSZone","title":"Unfurl Cloud DNS","description":"Default DNS for Unfurl Cloud users","badge":"DNS","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"dns-services.yaml"},"extends":["UnfurlUserDNSZone","unfurl.nodes.DNSZone","tosca.nodes.Root","unfurl.capabilities.DNSZone","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":["check","configure","connect","default","delete"],"implementation_requirements":[],"visibility":"hidden","inputsSchema":{"type":"object","properties":{"name":{"title":"Domain name","required":true,"description":"DNS name of the zone.","user_settable":true,"x-read-only":true,"display-value":{"get_env":"PROJECT_DNS_ZONE"},"type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"provider":{"title":"provider","default":{},"required":true,"description":"unused","sensitive":false,"type":"object"},"testing":{"title":"Testing","default":false,"required":true,"description":"Is this DNS zone being used for testing? (If set, Let's Encrypt staging will be used.)","user_settable":false,"type":"boolean"},"records":{"title":"records","default":{},"required":true,"description":"DNS records to add to the zone","computed":true,"type":"object","additionalProperties":{"required":true,"$toscatype":"unfurl.datatypes.DNSRecord","type":"object","properties":{"type":{"title":"type","required":true,"type":"string"},"value":{"title":"value","type":"string"},"values":{"title":"values","type":"array"},"$toscatype":{"const":"unfurl.datatypes.DNSRecord"}}}},"exclusive":{"title":"exclusive","default":false,"required":true,"description":"Zone exclusively managed by this instance (removes unrecognized records)","type":"boolean"},"default_ttl":{"title":"Default TTL","default":300,"required":true,"$toscatype":"integer","type":"number"}}},"outputsSchema":{"type":"object","properties":{"zone":{"title":"zone","required":true,"description":"The records found in the zone","internal":true,"type":"object"},"managed_records":{"title":"Managed Records","description":"The records in the zone that are managed by this instance","type":"object"}}},"requirements":[{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone"}]},"unfurl.nodes.ArtifactInstaller":{"name":"unfurl.nodes.ArtifactInstaller","title":"ArtifactInstaller","description":"Reification of an artifact that needs to be installed. Node templates of this type are \"discovered\" when artifacts need to be installed on an operation_host.\n","extends":["unfurl.nodes.ArtifactInstaller","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["check","configure","create","default","delete","start","stop"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"KubernetesIngressController":{"name":"KubernetesIngressController","title":"Predefined Ingress Controller","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["KubernetesIngressController","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["connect"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"annotations":{"title":"annotations","required":true,"description":"Annotation to add to an Ingress resource that wishes to use this controller.","type":"object","additionalProperties":{"required":true,"type":"string"}}}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.LocalRepository":{"name":"unfurl.nodes.LocalRepository","title":"LocalRepository","description":"Represents the collection of artifacts available to the local operation host.\n","extends":["unfurl.nodes.LocalRepository","unfurl.nodes.Repository","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"repository":{"title":"repository","description":"The name of the repository this node instance represent.","type":"string"},"url":{"title":"url","description":"The url of this repository","type":"string"},"credential":{"title":"credential","description":"The credential, if present, of the repository this node instance represents.\n","sensitive":true,"$toscatype":"tosca.datatypes.Credential","type":"object","properties":{"protocol":{"title":"protocol","type":"string"},"token":{"title":"token","required":true,"type":"string"},"keys":{"title":"keys","type":"object","additionalProperties":{"required":true,"type":"string"}},"user":{"title":"user","type":"string"},"$toscatype":{"const":"tosca.datatypes.Credential"}}}}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.Repository":{"name":"unfurl.nodes.Repository","title":"Repository","description":"Reification of a TOSCA repository. Artifacts listed in the \"artifacts\" section of this node template will able available in the repository.\n","extends":["unfurl.nodes.Repository","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"repository":{"title":"repository","description":"The name of the repository this node instance represent.","type":"string"},"url":{"title":"url","description":"The url of this repository","type":"string"},"credential":{"title":"credential","description":"The credential, if present, of the repository this node instance represents.\n","sensitive":true,"$toscatype":"tosca.datatypes.Credential","type":"object","properties":{"protocol":{"title":"protocol","type":"string"},"token":{"title":"token","required":true,"type":"string"},"keys":{"title":"keys","type":"object","additionalProperties":{"required":true,"type":"string"}},"user":{"title":"user","type":"string"},"$toscatype":{"const":"tosca.datatypes.Credential"}}}}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.AMIBootImage":{"name":"unfurl.nodes.AMIBootImage","title":"AMIBootImage","description":"","_sourceinfo":{"file":"aws/compute.yaml","url":"https://gitlab.com/onecommons/unfurl-types"},"extends":["unfurl.nodes.AMIBootImage","unfurl.nodes.BootImage","unfurl.nodes.Configuration","tosca.nodes.Root","unfurl.capabilities.Configuration","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":["configure"],"implementation_requirements":["unfurl.relationships.ConnectsTo.AWSAccount"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"owner":{"title":"owner","required":true,"type":"string"},"name_regex":{"title":"name_regex","required":true,"type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"architecture":{"title":"architecture","default":"x86_64","required":true,"type":"string"},"virtualization_type":{"title":"virtualization_type","default":"hvm","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"type":"string"}}},"requirements":[]},"unfurl.nodes.BootImage":{"name":"unfurl.nodes.BootImage","title":"BootImage","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.BootImage","unfurl.nodes.Configuration","tosca.nodes.Root","unfurl.capabilities.Configuration","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"type":"string"}}},"requirements":[]},"unfurl.nodes.Configuration":{"name":"unfurl.nodes.Configuration","title":"Configuration","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.Configuration","tosca.nodes.Root","unfurl.capabilities.Configuration","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.AWSMetadata":{"name":"unfurl.nodes.AWSMetadata","title":"AWSMetadata","description":"","_sourceinfo":{"file":"aws/compute.yaml","url":"https://gitlab.com/onecommons/unfurl-types"},"extends":["unfurl.nodes.AWSMetadata","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["configure"],"implementation_requirements":["unfurl.relationships.ConnectsTo.AWSAccount"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"machine_types":{"title":"machine_types","required":true,"type":"array","items":{"required":true,"type":"object"}},"availability_zone":{"title":"availability_zone","required":true,"type":"string"}}},"requirements":[]},"unfurl.nodes.GCPBootImage":{"name":"unfurl.nodes.GCPBootImage","title":"GCPBootImage","description":"","_sourceinfo":{"file":"gcp/compute.yaml","url":"https://gitlab.com/onecommons/unfurl-types"},"extends":["unfurl.nodes.GCPBootImage","unfurl.nodes.BootImage","unfurl.nodes.Configuration","tosca.nodes.Root","unfurl.capabilities.Configuration","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":["configure"],"implementation_requirements":["unfurl.relationships.ConnectsTo.GoogleCloudProject"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"project":{"title":"project","required":true,"type":"string"},"family":{"title":"family","required":true,"type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"type":"string"}}},"requirements":[]},"unfurl.nodes.GCPMetadata":{"name":"unfurl.nodes.GCPMetadata","title":"GCPMetadata","description":"","_sourceinfo":{"file":"gcp/compute.yaml","url":"https://gitlab.com/onecommons/unfurl-types"},"extends":["unfurl.nodes.GCPMetadata","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["configure"],"implementation_requirements":["unfurl.relationships.ConnectsTo.GoogleCloudProject"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"machine_types":{"title":"machine_types","required":true,"type":"array","items":{"required":true,"type":"object"}},"zone":{"title":"zone","required":true,"type":"string"}}},"requirements":[]},"UnfurlGoogleCloudServiceAccount":{"name":"UnfurlGoogleCloudServiceAccount","title":"UnfurlGoogleCloudServiceAccount","description":"","_sourceinfo":{"file":"gcp/compute.yaml","url":"https://gitlab.com/onecommons/unfurl-types"},"extends":["UnfurlGoogleCloudServiceAccount","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["configure"],"implementation_requirements":["unfurl.relationships.ConnectsTo.GoogleCloudProject"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"project_id":{"title":"project_id","default":{"get_env":"CLOUDSDK_CORE_PROJECT"},"required":true,"type":"string"},"name":{"title":"name","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.AzureBootImage":{"name":"unfurl.nodes.AzureBootImage","title":"AzureBootImage","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"azure/compute.yaml"},"extends":["unfurl.nodes.AzureBootImage","unfurl.nodes.BootImage","unfurl.nodes.Configuration","tosca.nodes.Root","unfurl.capabilities.Configuration","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":["configure"],"implementation_requirements":["ConnectsTo.AzureEnvironment"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"publisher_name":{"title":"publisher_name","required":true,"type":"string"},"offer":{"title":"offer","required":true,"type":"string"},"sku":{"title":"sku","required":true,"type":"string"},"version":{"title":"version","required":true,"type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{}},"outputsSchema":{"type":"object","properties":{"boot_image":{"title":"boot_image","required":true,"type":"string"}}},"requirements":[]},"Redis":{"name":"Redis","title":"Redis","description":"","badge":"Database","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["Redis","unfurl.nodes.SoftwareComponent","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"password":{"title":"Password","sensitive":true,"user_settable":true,"type":"string","pattern":"^[^@]*$"}}},"computedPropertiesSchema":{"type":"object","properties":{"username":{"title":"User Name","default":"","description":"Redis user name (use default if omitted)","type":"string"},"database_name":{"title":"Database Name","default":"","description":"Redis database name (use default if omitted)","type":"string"},"port":{"title":"Redis Port","default":6379,"required":true,"$toscatype":"tosca.datatypes.network.PortDef","type":"number","minimum":1024,"maximum":491511},"url_scheme":{"title":"Redis URL scheme","default":"redis","required":true,"description":"URL scheme to use when the Redis connection URL is generated","type":"string"},"url":{"title":"Redis Connection URL","required":true,"description":"If omitted one will be generated from the other settings","sensitive":true,"type":"string"},"software_version":{"title":"Software Version","description":"The Redis version (optional)","user_settable":false,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"tosca.nodes.BlockStorage":{"name":"tosca.nodes.BlockStorage","title":"BlockStorage","description":"","extends":["tosca.nodes.BlockStorage","tosca.nodes.Storage.BlockStorage","tosca.nodes.Abstract.Storage","tosca.nodes.Root","tosca.capabilities.Attachment","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"volume_id":{"title":"volume_id","type":"string"},"snapshot_id":{"title":"snapshot_id","type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"name":{"title":"name","default":"","required":true,"type":"string"},"size":{"title":"size","default":"0 MB","required":true,"$toscatype":"scalar-unit.size","type":"string","minimum":0}}},"outputsSchema":{"type":"object","properties":{"volume_id":{"title":"volume_id","required":true,"type":"string"}}},"requirements":[]},"tosca.nodes.Storage.BlockStorage":{"name":"tosca.nodes.Storage.BlockStorage","title":"BlockStorage","description":"","extends":["tosca.nodes.Storage.BlockStorage","tosca.nodes.Abstract.Storage","tosca.nodes.Root","tosca.capabilities.Attachment","tosca.capabilities.Root","tosca.capabilities.Node"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"volume_id":{"title":"volume_id","type":"string"},"snapshot_id":{"title":"snapshot_id","type":"string"},"name":{"title":"name","required":true,"type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"size":{"title":"size","default":"0 MB","required":true,"$toscatype":"scalar-unit.size","type":"string","minimum":0}}},"outputsSchema":{"type":"object","properties":{"volume_id":{"title":"volume_id","required":true,"type":"string"}}},"requirements":[]},"tosca.nodes.Abstract.Storage":{"name":"tosca.nodes.Abstract.Storage","title":"Storage","description":"","extends":["tosca.nodes.Abstract.Storage","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":[],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"name":{"title":"name","required":true,"type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"size":{"title":"size","default":"0 MB","required":true,"$toscatype":"scalar-unit.size","type":"string","minimum":0}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"ContainerImageRepository":{"name":"ContainerImageRepository","title":"ContainerImageRepository","description":"","badge":"Repository","_sourceinfo":{"file":"image-sources.yaml","url":"https://gitlab.com/onecommons/unfurl-types"},"extends":["ContainerImageRepository","unfurl.nodes.Repository","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["connect"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"registry_url":{"title":"registry_url","default":"https://docker.io","required":true,"user_settable":true,"type":"string"},"username":{"title":"username","type":"string"},"password":{"title":"password","sensitive":true,"type":"string"},"repository":{"title":"repository","description":"The name of the repository this node instance represent.","type":"string"},"url":{"title":"url","description":"The url of this repository","type":"string"}}},"computedPropertiesSchema":{"type":"object","properties":{"credential":{"title":"credential","description":"The credential, if present, of the repository this node instance represents.\n","sensitive":true,"user_settable":false,"$toscatype":"tosca.datatypes.Credential","type":"object","properties":{"protocol":{"title":"protocol","type":"string"},"token":{"title":"token","required":true,"type":"string"},"keys":{"title":"keys","type":"object","additionalProperties":{"required":true,"type":"string"}},"user":{"title":"user","type":"string"},"$toscatype":{"const":"tosca.datatypes.Credential"}}}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.LocalDockerHost":{"name":"unfurl.nodes.LocalDockerHost","title":"LocalDockerHost","description":"Runs the container on your local Docker engine","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.LocalDockerHost","unfurl.nodes.Container.Application.Docker","tosca.nodes.Root","unfurl.nodes.DockerHost","unfurl.nodes.ServiceHost","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["check","configure","default","delete","start","stop"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"name":{"title":"name","required":true,"description":"The name of the container","type":"string"},"container":{"title":"container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.Container.Application.Docker":{"name":"unfurl.nodes.Container.Application.Docker","title":"Docker","description":"","_sourceinfo":{"repository":"unfurl","url":"/src/unfurl/unfurl","file":"configurators/docker-template.yaml"},"extends":["unfurl.nodes.Container.Application.Docker","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["check","configure","default","delete","start","stop"],"implementation_requirements":[],"visibility":"inherit","inputsSchema":{"type":"object","properties":{"container":{"title":"container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}}}},"computedPropertiesSchema":{"type":"object","properties":{"name":{"title":"name","required":true,"description":"The name of the container","type":"string"},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","type":"string"}}},"outputsSchema":{"type":"object","properties":{}},"requirements":[]},"unfurl.nodes.K8sContainerHost":{"name":"unfurl.nodes.K8sContainerHost","title":"K8sContainerHost","description":"","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.K8sContainerHost","unfurl.nodes.DockerHost","unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["configure","restart"],"implementation_requirements":["unfurl.relationships.ConnectsTo.K8sCluster"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"public_dns":{"title":"public_dns","description":"internal only, use PublicK8sContainerHost to expose this service","user_settable":false,"type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"},"protocol":{"title":"protocol","default":"http","required":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"name":{"title":"name","required":true,"description":"name generated by Kompose","type":"string"},"definitions":{"title":"definitions","required":true,"type":"object","additionalProperties":{"required":true,"type":"object"}}}},"requirements":[]},"unfurl.nodes.PublicK8sContainerHost":{"name":"unfurl.nodes.PublicK8sContainerHost","title":"PublicK8sContainerHost","description":"Expose service with DNS and an Ingress record","_sourceinfo":{"repository":"types","url":"https://gitlab.com/onecommons/unfurl-types","file":"service-template.yaml"},"extends":["unfurl.nodes.PublicK8sContainerHost","unfurl.nodes.K8sContainerHost","unfurl.nodes.DockerHost","unfurl.nodes.ServiceHost","tosca.nodes.Root","tosca.capabilities.Node","tosca.capabilities.Root"],"implementations":["configure","restart"],"implementation_requirements":["unfurl.relationships.ConnectsTo.K8sCluster"],"visibility":"inherit","inputsSchema":{"type":"object","properties":{}},"computedPropertiesSchema":{"type":"object","properties":{"protocol":{"title":"protocol","required":true,"type":"string"},"public_dns":{"title":"public_dns","description":"Fully qualified domain name.","user_settable":false,"type":"string"},"portspecs":{"title":"portspecs","required":true,"type":"array","items":{"required":true,"$toscatype":"tosca.datatypes.network.PortSpec","type":"string"}},"container":{"title":"container","$toscatype":"unfurl.datatypes.DockerContainer","type":"object","properties":{"environment":{"title":"environment","default":{},"user_settable":true,"tab_title":"Environment Variables","transform":{"eval":{"to_env":{"eval":"$value"}}},"type":"object","additionalProperties":{"required":true,"type":"string"}},"container_name":{"title":"container_name","type":"string"},"image":{"title":"image","type":"string"},"command":{"title":"command","$toscatype":"any","type":"string"},"volumes":{"title":"volumes","type":"array","items":{"required":true,"type":"string"}},"ports":{"title":"ports","description":"Ports to expose (format: 80:8080)","type":"array","items":{"required":true,"type":"string"}},"user":{"title":"user","description":"User used to run the container process. format: <UID>[:<GID>]","type":"string"},"expose":{"title":"expose","description":"Expose ports without publishing them to the host machine","type":"array","items":{"required":true,"type":"string"}},"entrypoint":{"title":"entrypoint","type":"array","items":{"required":true,"type":"string"}},"privileged":{"title":"privileged","type":"boolean"},"pull_policy":{"title":"pull_policy","type":"string","enum":["always","never","missing","build"]},"network_mode":{"title":"network_mode","description":"Use the same values as the docker client --network parameter (\"bridge\", \"host\", \"none\")","type":"string"},"$toscatype":{"const":"unfurl.datatypes.DockerContainer"}}},"container_image":{"title":"container_image","required":true,"type":"string"},"registry_url":{"title":"registry_url","type":"string"},"registry_user":{"title":"registry_user","type":"string"},"registry_password":{"title":"registry_password","sensitive":true,"type":"string"}}},"outputsSchema":{"type":"object","properties":{"name":{"title":"name","required":true,"description":"name generated by Kompose","type":"string"},"definitions":{"title":"definitions","required":true,"type":"object","additionalProperties":{"required":true,"type":"object"}}}},"requirements":[{"name":"ingress","description":"The ingress to use","__typename":"RequirementConstraint","title":"Ingress Controller","min":0,"max":1,"match":null,"resourceType":"k8sDefaultIngressController"},{"name":"dns","description":"DNS provider for domain name configuration","__typename":"RequirementConstraint","title":"DNS","min":1,"max":1,"match":null,"resourceType":"unfurl.nodes.DNSZone"}]}},"ResourceTemplate":{"the_app":{"type":"Nestedcloud","name":"the_app","title":"the_app","description":"","directives":[],"properties":[],"dependencies":[{"constraint":{"name":"nested","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"unfurl.nodes.WebApp"},"name":"nested","match":"nextcloud","__typename":"Requirement"}]},"nextcloud":{"type":"Nextcloud","name":"nextcloud","title":"Nextcloud","description":"","directives":["substitute"],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"database_name","value":"nextcloud"},{"name":"subdomain","value":"nextcloud"}],"dependencies":[{"constraint":{"name":"mail","description":"Mail server for user registration and notifications (can be configured after deployment)","__typename":"RequirementConstraint","title":"Mail Server","min":0,"max":1,"visibility":"visible","match":null,"resourceType":"SMTPServer"},"name":"mail","match":"__mail-server","__typename":"Requirement"},{"constraint":{"name":"db","description":"External database for Nextcloud (optional)","__typename":"RequirementConstraint","title":"Database Instance","min":0,"max":1,"visibility":"visible","match":null,"resourceType":"PostgresDB","inputsSchema":{"properties":{"database_name":null}}},"name":"db","match":"database-instance-for-nextcloud","__typename":"Requirement"},{"constraint":{"name":"dockerhost","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"hidden","match":"dockerhost-for-nextcloud","resourceType":"unfurl.nodes.TraefikDockerComputeHost"},"name":"dockerhost","match":"dockerhost-for-nextcloud","__typename":"Requirement"},{"constraint":{"name":"container","description":"","__typename":"RequirementConstraint","node_filter":{"properties":[{"public_ports":{"q":true}}]},"min":0,"max":1,"match":null,"resourceType":"container_service","visibility":"hidden"},"name":"container","match":null,"__typename":"Requirement"},{"constraint":{"name":"redis","description":"External cache for Nextcloud (optional)","__typename":"RequirementConstraint","title":"Redis Cache","min":0,"max":1,"match":null,"resourceType":"Redis"},"name":"redis","match":null,"__typename":"Requirement"}]},"dockerhost-for-nextcloud":{"type":"unfurl.nodes.TraefikDockerComputeHost","name":"dockerhost-for-nextcloud","title":"dockerhost-for-nextcloud","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[],"dependencies":[{"constraint":{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"unfurl.nodes.Compute","inputsSchema":{"properties":{"portspecs":null,"user_data":null,"public_ports":null}}},"name":"host","match":"compute-for-nextcloud","__typename":"Requirement"},{"constraint":{"name":"dns","description":"DNS provider for domain name configuration","__typename":"RequirementConstraint","title":"DNS","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"unfurl.nodes.DNSZone"},"name":"dns","match":"__route53dnszone","__typename":"Requirement"}]},"compute-for-nextcloud":{"type":"unfurl.nodes.AzureCompute","name":"compute-for-nextcloud","title":"Compute for Nextcloud","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"credentials","value":{"admin_password":{"get_env":"nestedcloud_azure_1__compute_for_nextcloud__credentials_admin_password"},"admin_username":"ufcadmin","public_key":""}},{"name":"num_cpus","value":1},{"name":"mem_size","value":2048},{"name":"disk_size","value":32},{"name":"user_data","value":{"eval":".configured_by::user_data?","vars":{"SOURCE":{"eval":"::dockerhost-for-nextcloud"}}}},{"name":"public_ports","value":{"eval":".configured_by::public_ports?","vars":{"SOURCE":{"eval":"::dockerhost-for-nextcloud"}}}}],"dependencies":[{"constraint":{"name":"floating-ip","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.nodes.FloatingIP"},"name":"floating-ip","match":"floating-ip-for-compute-for-nextcloud","__typename":"Requirement"},{"constraint":{"name":"volume-attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"tosca.nodes.BlockStorage","inputsSchema":{"properties":{"persistent":null}}},"name":"volume-attachment","match":null,"__typename":"Requirement"}]},"floating-ip-for-compute-for-nextcloud":{"type":"unfurl.nodes.AzurePublicIP","name":"floating-ip-for-compute-for-nextcloud","title":"floating-ip-for-compute-for-nextcloud","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[],"dependencies":[]},"__route53dnszone":{"type":"Route53DNSZone","name":"__route53dnszone","title":"Route53DNSZone","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"access_key_id","value":"AKIAVISQV7JAHDNJVS4B"},{"name":"secret_access_key","value":{"get_env":"route53dnszone__secret_access_key"}},{"name":"name","value":"opencloudservices.net"}],"dependencies":[{"constraint":{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone"},"name":"parent_zone","match":null,"__typename":"Requirement"}]},"__mail-server":{"type":"GenericSMTPServer","name":"__mail-server","title":"Mail Server","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"host","value":"mailu.untrusted.me"},{"name":"user_name","value":"admin@mailu.untrusted.me"},{"name":"password","value":{"get_env":"mail_server__password"}},{"name":"protocol","value":"tls"}],"dependencies":[]},"database-instance-for-nextcloud":{"type":"PostgresDBInstance","name":"database-instance-for-nextcloud","title":"Database Instance for Nextcloud","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"root_user","value":"root"},{"name":"root_password","value":{"get_env":"nestedcloud_azure_1__database_instance_for_nextcloud__root_password"}},{"name":"database_name","value":{"eval":".configured_by::database_name","vars":{"SOURCE":{"eval":"::nextcloud"}}}}],"dependencies":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":"db-dockerhost","resourceType":"unfurl.nodes.DockerComputeHost"},"name":"host","match":"db-dockerhost","__typename":"Requirement"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository"},"name":"container_image_source","match":null,"__typename":"Requirement"}]},"db-dockerhost":{"type":"unfurl.nodes.DockerComputeHost","name":"db-dockerhost","title":"db-dockerhost","description":"","directives":[],"properties":[],"dependencies":[{"constraint":{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"unfurl.nodes.Compute","inputsSchema":{"properties":{"user_data":null,"portspecs":null,"public_ports":null}}},"name":"host","match":"dbcompute-for-nextcloud","__typename":"Requirement"}]},"dbcompute-for-nextcloud":{"type":"unfurl.nodes.AzureCompute","name":"dbcompute-for-nextcloud","title":"DBCompute for Nextcloud","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[{"name":"credentials","value":{"admin_password":{"get_env":"nestedcloud_azure_1__dbcompute_for_nextcloud__credentials_admin_password"},"admin_username":"ufcadmin","public_key":""}},{"name":"num_cpus","value":1},{"name":"mem_size","value":2048},{"name":"disk_size","value":32},{"name":"user_data","value":{"eval":".configured_by::user_data?","vars":{"SOURCE":{"eval":"::db-dockerhost"}}}},{"name":"portspecs","value":{"eval":".configured_by::portspecs?","vars":{"SOURCE":{"eval":"::db-dockerhost"}}}},{"name":"public_ports","value":{"eval":".configured_by::public_ports?","vars":{"SOURCE":{"eval":"::db-dockerhost"}}}}],"dependencies":[{"constraint":{"name":"floating-ip","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.nodes.FloatingIP"},"name":"floating-ip","match":"floating-ip-for-dbcompute-for-nextcloud","__typename":"Requirement"},{"constraint":{"name":"volume-attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"tosca.nodes.BlockStorage","inputsSchema":{"properties":{"persistent":null}}},"name":"volume-attachment","match":null,"__typename":"Requirement"}]},"floating-ip-for-dbcompute-for-nextcloud":{"type":"unfurl.nodes.AzurePublicIP","name":"floating-ip-for-dbcompute-for-nextcloud","title":"floating-ip-for-dbcompute-for-nextcloud","description":"","directives":[],"metadata":{"created_by":"unfurl-gui"},"properties":[],"dependencies":[]},"dockerhost":{"type":"unfurl.nodes.DockerHost","name":"dockerhost","title":"dockerhost","description":"This is an incomplete, placeholder template that needs to be defined in your blueprint","directives":["default"],"properties":[],"dependencies":[],"visibility":"hidden"},"redis-dockerhost":{"type":"unfurl.nodes.DockerHost","name":"redis-dockerhost","title":"redis-dockerhost","description":"This is an incomplete, placeholder template that needs to be defined in your blueprint","directives":["default"],"properties":[],"dependencies":[],"visibility":"hidden"},"k8sDefaultIngressController":{"type":"KubernetesIngressController","name":"k8sDefaultIngressController","title":"k8sDefaultIngressController","description":"","directives":["default"],"properties":[{"name":"annotations","value":{}}],"dependencies":[],"visibility":"hidden"},"dockerhost-aws-bootimage":{"type":"unfurl.nodes.AMIBootImage","name":"dockerhost-aws-bootimage","title":"dockerhost-aws-bootimage","description":"","directives":["default"],"properties":[{"name":"owner","value":"099720109477"},{"name":"name_regex","value":"jammy"}],"dependencies":[],"visibility":"hidden"},"aws_metadata":{"type":"unfurl.nodes.AWSMetadata","name":"aws_metadata","title":"aws_metadata","description":"","directives":["default"],"properties":[],"dependencies":[],"visibility":"hidden"},"dockerhost-gcp-bootimage":{"type":"unfurl.nodes.GCPBootImage","name":"dockerhost-gcp-bootimage","title":"dockerhost-gcp-bootimage","description":"","directives":["default"],"properties":[{"name":"project","value":"ubuntu-os-cloud"},{"name":"family","value":"ubuntu-2204-lts"}],"dependencies":[],"visibility":"hidden"},"gcp_metadata":{"type":"unfurl.nodes.GCPMetadata","name":"gcp_metadata","title":"gcp_metadata","description":"","directives":["default"],"properties":[],"dependencies":[],"visibility":"hidden"},"unfurl_service_account":{"type":"UnfurlGoogleCloudServiceAccount","name":"unfurl_service_account","title":"unfurl_service_account","description":"","directives":["default","dependent"],"properties":[],"dependencies":[],"visibility":"hidden"},"dockerhost-azure-bootimage":{"type":"unfurl.nodes.AzureBootImage","name":"dockerhost-azure-bootimage","title":"dockerhost-azure-bootimage","description":"","directives":["default"],"properties":[{"name":"publisher_name","value":"Canonical"},{"name":"offer","value":"0001-com-ubuntu-server-jammy"},{"name":"sku","value":"22_04-lts"},{"name":"version","value":"latest"}],"dependencies":[],"visibility":"hidden"},"container_service":{"type":"unfurl.nodes.ContainerService","name":"container_service","title":"container_service","description":"","directives":[],"properties":[{"name":"container","value":{"image":"nextcloud","ports":["8080:80"],"volumes":["/var/app/data/nextcloud:/var/www/html"],"environment":{"eval":{"to_env":{"SQLITE_DATABASE":{"eval":{"if":".configured_by::.targets::db","then":null,"else":".configured_by::database_name"}},"POSTGRES_HOST":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::host","else":null}},"POSTGRES_USER":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::root_user","else":null}},"POSTGRES_PASSWORD":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::.targets::db::root_password","else":null}},"POSTGRES_DB":{"eval":{"if":".configured_by::.targets::db","then":".configured_by::database_name","else":null}},"REDIS_HOST":{"eval":{"if":".configured_by::.targets::redis","then":".configured_by::.targets::redis::host","else":null}},"REDIS_HOST_PASSWORD":{"eval":{"if":".configured_by::.targets::redis","then":".configured_by::.targets::redis::password","else":null}},"SMTP_HOST":{"eval":".configured_by::.targets::mail::host"},"SMTP_NAME":{"eval":".configured_by::.targets::mail::user_name"},"SMTP_PASSWORD":{"eval":".configured_by::.targets::mail::password"},"MAIL_FROM_ADDRESS":{"eval":".configured_by::.targets::mail::from_address"},"MAIL_DOMAIN":{"eval":".configured_by::.targets::mail::mail_domain"}}}}}},{"name":"public_ports","value":true}],"dependencies":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"unfurl.nodes.DockerHost"},"name":"host","match":"dockerhost","__typename":"Requirement"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository"},"name":"container_image_source","match":null,"__typename":"Requirement"}]}},"Overview":{"template_name":"Nestedcloud","template_author":null,"template_version":0.1,"livePreview":null,"image":null,"sourceCodeUrl":null,"deployments":0,"webUrl":null,"primaryDeploymentBlueprint":"gcp"},"DeploymentTemplate":{"nestedcloud-azure-1":{"title":"Nestedcloud Azure 1","cloud":"ConnectsTo.AzureEnvironment","description":"Deploy using Azure","primary":"the_app","projectPath":"onecommons/blueprints/nestedcloud","source":"azure","__typename":"DeploymentTemplate","name":"nestedcloud-azure-1","slug":"nestedcloud-azure-1","blueprint":"nestedcloud","resourceTemplates":["__mail-server","__route53dnszone","aws_metadata","compute-for-nextcloud","database-instance-for-nextcloud","db-dockerhost","dbcompute-for-nextcloud","dockerhost","dockerhost-aws-bootimage","dockerhost-azure-bootimage","dockerhost-for-nextcloud","dockerhost-gcp-bootimage","floating-ip-for-compute-for-nextcloud","floating-ip-for-dbcompute-for-nextcloud","gcp_metadata","k8sDefaultIngressController","nextcloud","redis-dockerhost","the_app","unfurl_service_account"],"ResourceTemplate":{},"environmentVariableNames":["APP_URL","APP_URL","NESTED_SUBDOMAIN","NESTED_HEALTH_CHECK_URL","NESTED_READINESS_ESTIMATE","NESTED_URL"],"commitTime":"2023-09-21 18:19:37+00:00"}},"ApplicationBlueprint":{"nestedcloud":{"name":"nestedcloud","title":"Nestedcloud","description":"A safe home for all your data. Access & share your files, calendars, contacts, mail & more from any device, on your terms.","livePreview":null,"sourceCodeUrl":null,"image":null,"projectIcon":null,"primaryDeploymentBlueprint":"gcp","__typename":"ApplicationBlueprint","primary":"Nestedcloud","deploymentTemplates":["nestedcloud-azure-1","gcp","aws","digitalocean","azure","selfhosted","kubernetes"]}},"Resource":{"__mail-server":{"name":"__mail-server","title":"Mail Server","template":"__mail-server","state":null,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[],"computedProperties":[{"name":"host","value":"mailu.untrusted.me"},{"name":"user_name","value":"admin@mailu.untrusted.me"},{"name":"password","value":"<<REDACTED>>"}],"connections":[]},"floating-ip-for-dbcompute-for-nextcloud":{"name":"floating-ip-for-dbcompute-for-nextcloud","title":"floating-ip-for-dbcompute-for-nextcloud","template":"floating-ip-for-dbcompute-for-nextcloud","state":3,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"id","value":"/subscriptions/2a4d88e0-165e-422b-bb41-aa4f1461e581/resourceGroups/example-resources/providers/Microsoft.Network/publicIPAddresses/floatingipfordbcomputefornextcloudIfC"},{"name":"ip_address","value":"20.215.187.202"}],"computedProperties":[{"name":"name","value":"floatingipfordbcomputefornextcloudIfC"}],"connections":[]},"dbcompute-for-nextcloud":{"name":"dbcompute-for-nextcloud","title":"DBCompute for Nextcloud","template":"dbcompute-for-nextcloud","state":3,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"id","value":"/subscriptions/2a4d88e0-165e-422b-bb41-aa4f1461e581/resourceGroups/example-resources/providers/Microsoft.Compute/virtualMachines/dbcomputefornextcloudETj"},{"name":"private_address","value":"10.0.0.9"},{"name":"private_dns","value":"10.0.0.9"},{"name":"public_address","value":""},{"name":"public_dns","value":""},{"name":"console_url","value":"https://portal.azure.com/#@1211e508-10ae-48e9-9591-74b82d108762/resource/subscriptions/2a4d88e0-165e-422b-bb41-aa4f1461e581/resourceGroups/example-resources/providers/Microsoft.Compute/virtualMachines/dbcomputefornextcloudETj/overview"}],"computedProperties":[{"name":"public_ports","value":false},{"name":"name","value":"dbcomputefornextcloudETj"},{"name":"boot_image","value":"/Subscriptions/2a4d88e0-165e-422b-bb41-aa4f1461e581/Providers/Microsoft.Compute/Locations/PolandCentral/Publishers/Canonical/ArtifactTypes/VMImage/Offers/0001-com-ubuntu-server-jammy/Skus/22_04-lts/Versions/latest"},{"name":"machine_type","value":"Standard_A1_v2"},{"name":"num_cpus","value":1},{"name":"mem_size","value":2048},{"name":"credentials","value":{"admin_password":"<<REDACTED>>","admin_username":"ufcadmin","public_key":"<<REDACTED>>"}}],"connections":[{"constraint":{"name":"floating-ip","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.nodes.FloatingIP"},"name":"floating-ip","match":"floating-ip-for-dbcompute-for-nextcloud","__typename":"Requirement","target":"floating-ip-for-dbcompute-for-nextcloud"},{"constraint":{"name":"volume-attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"tosca.nodes.BlockStorage","inputsSchema":{"properties":{"persistent":null}}},"name":"volume-attachment","match":null,"__typename":"Requirement"}]},"db-dockerhost":{"name":"db-dockerhost","title":"db-dockerhost","template":"db-dockerhost","state":5,"status":1,"__typename":"Resource","imported":null,"visibility":"hidden","protected":null,"attributes":[{"name":"private_dns","value":"10.0.0.9"}],"computedProperties":[{"name":"registry_user","value":null},{"name":"registry_password","value":"<<REDACTED>>"},{"name":"registry_url","value":null},{"name":"container_image","value":{"eval":{"container_image":"bitnami/postgresql:latest"}}},{"name":"container","value":{"user":"0","image":"bitnami/postgresql:latest","volumes":["/var/app/data/postgresql:/bitnami/postgresql"],"ports":["5432:5432"],"environment":{"POSTGRESQL_USERNAME":"root","POSTGRESQL_DATABASE":"nextcloud","POSTGRESQL_PASSWORD":"<<REDACTED>>"}}}],"connections":[{"constraint":{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"unfurl.nodes.Compute","inputsSchema":{"properties":{"user_data":null,"portspecs":null,"public_ports":null}}},"name":"host","match":"dbcompute-for-nextcloud","__typename":"Requirement","target":"dbcompute-for-nextcloud"}]},"database-instance-for-nextcloud":{"name":"database-instance-for-nextcloud","title":"Database Instance for Nextcloud","template":"database-instance-for-nextcloud","state":null,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[],"computedProperties":[{"name":"files","value":[]},{"name":"env","value":{}},{"name":"container_image","value":{"eval":{"container_image":"bitnami/postgresql:latest"}}},{"name":"container","value":{"user":"0","image":"bitnami/postgresql:latest","volumes":["/var/app/data/postgresql:/bitnami/postgresql"],"ports":["5432:5432"],"environment":{"POSTGRESQL_USERNAME":"root","POSTGRESQL_DATABASE":"nextcloud","POSTGRESQL_PASSWORD":"<<REDACTED>>"}}},{"name":"root_user","value":"root"},{"name":"database_name","value":"nextcloud"},{"name":"root_password","value":"<<REDACTED>>"},{"name":"public_ports","value":false},{"name":"host","value":"10.0.0.9"}],"connections":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":"db-dockerhost","resourceType":"unfurl.nodes.DockerComputeHost"},"name":"host","match":"db-dockerhost","__typename":"Requirement","target":"db-dockerhost"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository"},"name":"container_image_source","match":null,"__typename":"Requirement"}]},"floating-ip-for-compute-for-nextcloud":{"name":"floating-ip-for-compute-for-nextcloud","title":"floating-ip-for-compute-for-nextcloud","template":"floating-ip-for-compute-for-nextcloud","state":3,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"id","value":"/subscriptions/2a4d88e0-165e-422b-bb41-aa4f1461e581/resourceGroups/example-resources/providers/Microsoft.Network/publicIPAddresses/floatingipforcomputefornextclouda3b"},{"name":"ip_address","value":"20.215.189.14"}],"computedProperties":[{"name":"name","value":"floatingipforcomputefornextclouda3b"}],"connections":[]},"compute-for-nextcloud":{"name":"compute-for-nextcloud","title":"Compute for Nextcloud","template":"compute-for-nextcloud","state":3,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"id","value":"/subscriptions/2a4d88e0-165e-422b-bb41-aa4f1461e581/resourceGroups/example-resources/providers/Microsoft.Compute/virtualMachines/computefornextcloudasv"},{"name":"private_address","value":"10.0.0.10"},{"name":"private_dns","value":"10.0.0.10"},{"name":"public_address","value":"20.215.189.14"},{"name":"public_dns","value":"20.215.189.14"},{"name":"console_url","value":"https://portal.azure.com/#@1211e508-10ae-48e9-9591-74b82d108762/resource/subscriptions/2a4d88e0-165e-422b-bb41-aa4f1461e581/resourceGroups/example-resources/providers/Microsoft.Compute/virtualMachines/computefornextcloudasv/overview"}],"computedProperties":[{"name":"public_ports","value":true},{"name":"name","value":"computefornextcloudasv"},{"name":"portspecs","value":[]},{"name":"boot_image","value":"/Subscriptions/2a4d88e0-165e-422b-bb41-aa4f1461e581/Providers/Microsoft.Compute/Locations/PolandCentral/Publishers/Canonical/ArtifactTypes/VMImage/Offers/0001-com-ubuntu-server-jammy/Skus/22_04-lts/Versions/latest"},{"name":"machine_type","value":"Standard_A1_v2"},{"name":"num_cpus","value":1},{"name":"mem_size","value":2048},{"name":"credentials","value":{"admin_password":"<<REDACTED>>","admin_username":"ufcadmin","public_key":"<<REDACTED>>"}}],"connections":[{"constraint":{"name":"floating-ip","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.nodes.FloatingIP"},"name":"floating-ip","match":"floating-ip-for-compute-for-nextcloud","__typename":"Requirement","target":"floating-ip-for-compute-for-nextcloud"},{"constraint":{"name":"volume-attachment","description":"Create a persistent volume to save container data to. Applications will save data if the instance is deleted.","__typename":"RequirementConstraint","title":"Persistent Cloud Data Volume","min":0,"max":1,"match":null,"resourceType":"tosca.nodes.BlockStorage","inputsSchema":{"properties":{"persistent":null}}},"name":"volume-attachment","match":null,"__typename":"Requirement"}]},"dockerhost-for-nextcloud":{"name":"dockerhost-for-nextcloud","title":"dockerhost-for-nextcloud","template":"dockerhost-for-nextcloud","state":5,"status":1,"__typename":"Resource","imported":null,"visibility":"hidden","protected":null,"attributes":[{"name":"public_dns","value":"nextcloud.opencloudservices.net"},{"name":"ports","value":[443]}],"computedProperties":[{"name":"protocol","value":"https"},{"name":"registry_user","value":null},{"name":"registry_password","value":"<<REDACTED>>"},{"name":"registry_url","value":null},{"name":"container_image","value":{"eval":{"container_image":"nextcloud"}}},{"name":"container","value":{"image":"nextcloud","ports":["8080:80"],"volumes":["/var/app/data/nextcloud:/var/www/html"],"environment":{"POSTGRES_HOST":"10.0.0.9","POSTGRES_USER":"root","POSTGRES_PASSWORD":"<<REDACTED>>","POSTGRES_DB":"nextcloud","SMTP_HOST":"mailu.untrusted.me","SMTP_NAME":"admin@mailu.untrusted.me","SMTP_PASSWORD":"<<REDACTED>>"}}}],"connections":[{"constraint":{"name":"host","description":"A compute instance with at least 1000MB RAM","__typename":"RequirementConstraint","title":"Compute","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"unfurl.nodes.Compute","inputsSchema":{"properties":{"portspecs":null,"user_data":null,"public_ports":null}}},"name":"host","match":"compute-for-nextcloud","__typename":"Requirement","target":"compute-for-nextcloud"},{"constraint":{"name":"dns","description":"DNS provider for domain name configuration","__typename":"RequirementConstraint","title":"DNS","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"unfurl.nodes.DNSZone"},"name":"dns","match":"__route53dnszone","__typename":"Requirement","target":"__route53dnszone"}]},"__route53dnszone":{"name":"__route53dnszone","title":"Route53DNSZone","template":"__route53dnszone","state":5,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"managed_records","value":{"nextcloud":{"type":"A","value":"20.215.189.14"}}},{"name":"console_url","value":"https://console.aws.amazon.com/route53/v2/hostedzones"}],"computedProperties":[{"name":"name","value":"opencloudservices.net"},{"name":"exclusive","value":false},{"name":"provider","value":"<<REDACTED>>"},{"name":"access_key_id","value":"AKIAVISQV7JAHDNJVS4B"},{"name":"secret_access_key","value":"<<REDACTED>>"},{"name":"session_token","value":"<<REDACTED>>"},{"name":"records","value":{}},{"name":"default_ttl","value":300}],"connections":[{"constraint":{"name":"parent_zone","description":"","__typename":"RequirementConstraint","min":0,"max":1,"visibility":"hidden","match":null,"resourceType":"unfurl.capabilities.DNSZone"},"name":"parent_zone","match":null,"__typename":"Requirement"}]},"nextcloud":{"name":"nextcloud","title":"Nextcloud","template":"nextcloud","state":null,"status":1,"__typename":"Resource","imported":":nextcloud:the_app","protected":null,"attributes":[{"name":"url","value":"https://nextcloud.opencloudservices.net:443"}],"computedProperties":[{"name":"health_check_url","value":null},{"name":"readiness_estimate","value":null}],"connections":[{"constraint":{"name":"mail","description":"Mail server for user registration and notifications (can be configured after deployment)","__typename":"RequirementConstraint","title":"Mail Server","min":0,"max":1,"visibility":"visible","match":null,"resourceType":"SMTPServer"},"name":"mail","match":"__mail-server","__typename":"Requirement","target":"__mail-server"},{"constraint":{"name":"db","description":"External database for Nextcloud (optional)","__typename":"RequirementConstraint","title":"Database Instance","min":0,"max":1,"visibility":"visible","match":null,"resourceType":"PostgresDB","inputsSchema":{"properties":{"database_name":null}}},"name":"db","match":"database-instance-for-nextcloud","__typename":"Requirement","target":"database-instance-for-nextcloud"},{"constraint":{"name":"dockerhost","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"hidden","match":"dockerhost-for-nextcloud","resourceType":"unfurl.nodes.TraefikDockerComputeHost"},"name":"dockerhost","match":"dockerhost-for-nextcloud","__typename":"Requirement","target":"dockerhost-for-nextcloud"},{"constraint":{"name":"container","description":"","__typename":"RequirementConstraint","node_filter":{"properties":[{"public_ports":{"q":true}}]},"min":0,"max":1,"match":null,"resourceType":"container_service","visibility":"hidden"},"name":"container","match":null,"__typename":"Requirement"},{"constraint":{"name":"redis","description":"External cache for Nextcloud (optional)","__typename":"RequirementConstraint","title":"Redis Cache","min":0,"max":1,"match":null,"resourceType":"Redis"},"name":"redis","match":null,"__typename":"Requirement"}]},"nextcloud:container_service":{"name":"nextcloud:container_service","title":"container_service","template":"container_service","state":null,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[],"computedProperties":[{"name":"url","value":"https://nextcloud.opencloudservices.net:443"},{"name":"host","value":"nextcloud.opencloudservices.net"},{"name":"public_ports","value":true},{"name":"port","value":443},{"name":"files","value":[]},{"name":"env","value":{}},{"name":"container_image","value":{"eval":{"container_image":"nextcloud"}}},{"name":"container","value":{"image":"nextcloud","ports":["8080:80"],"volumes":["/var/app/data/nextcloud:/var/www/html"],"environment":{"POSTGRES_HOST":"10.0.0.9","POSTGRES_USER":"root","POSTGRES_PASSWORD":"<<REDACTED>>","POSTGRES_DB":"nextcloud","SMTP_HOST":"mailu.untrusted.me","SMTP_NAME":"admin@mailu.untrusted.me","SMTP_PASSWORD":"<<REDACTED>>"}}}],"connections":[{"constraint":{"name":"host","description":"","__typename":"RequirementConstraint","min":0,"max":1,"match":null,"resourceType":"unfurl.nodes.DockerHost"},"name":"host","match":"dockerhost","__typename":"Requirement","target":"dockerhost"},{"constraint":{"name":"container_image_source","description":"","__typename":"RequirementConstraint","title":"Container Repository","min":0,"max":1,"match":null,"resourceType":"ContainerImageRepository"},"name":"container_image_source","match":null,"__typename":"Requirement"}]},"the_app":{"name":"the_app","title":"Nestedcloud Azure 1","template":"the_app","state":null,"status":1,"__typename":"Resource","imported":null,"protected":null,"attributes":[{"name":"url","value":"https://nextcloud.opencloudservices.net:443"}],"computedProperties":[],"connections":[{"constraint":{"name":"nested","description":"","__typename":"RequirementConstraint","min":1,"max":1,"visibility":"visible","match":null,"resourceType":"unfurl.nodes.WebApp"},"name":"nested","match":"nextcloud","__typename":"Requirement","target":"nextcloud"}]},"dockerhost-azure-bootimage":{"name":"dockerhost-azure-bootimage","title":"dockerhost-azure-bootimage","template":"dockerhost-azure-bootimage","state":5,"status":1,"__typename":"Resource","imported":null,"visibility":"hidden","protected":null,"attributes":[{"name":"boot_image","value":"/Subscriptions/2a4d88e0-165e-422b-bb41-aa4f1461e581/Providers/Microsoft.Compute/Locations/PolandCentral/Publishers/Canonical/ArtifactTypes/VMImage/Offers/0001-com-ubuntu-server-jammy/Skus/22_04-lts/Versions/latest"}],"computedProperties":[{"name":"sku","value":"22_04-lts"},{"name":"version","value":"latest"},{"name":"publisher_name","value":"Canonical"},{"name":"offer","value":"0001-com-ubuntu-server-jammy"}],"connections":[]}},"Deployment":{"nestedcloud-azure-1":{"name":"nestedcloud-azure-1","title":"Nestedcloud Azure 1","__typename":"Deployment","resources":["__mail-server","floating-ip-for-dbcompute-for-nextcloud","dbcompute-for-nextcloud","db-dockerhost","database-instance-for-nextcloud","floating-ip-for-compute-for-nextcloud","compute-for-nextcloud","dockerhost-for-nextcloud","__route53dnszone","nextcloud","nextcloud:container_service","the_app","dockerhost-azure-bootimage"],"primary":"the_app","deploymentTemplate":"nestedcloud-azure-1","workflow":"deploy","status":1,"summary":"10 tasks (10 changed, 10 ok, 0 failed, 0 unknown, 0 skipped)","deployTime":"2023-09-21 18:13:41+00:00","url":"https://nextcloud.opencloudservices.net:443"}},"DeploymentPath":{"environments/az-20230921t175856209z/onecommons/blueprints/nestedcloud/nestedcloud-azure-1":{"__typename":"DeploymentPath","name":"environments/az-20230921t175856209z/onecommons/blueprints/nestedcloud/nestedcloud-azure-1","project_id":145,"pipelines":[{"id":951,"flags":{"stuck":false,"auto_devops":false,"merge_request":false,"yaml_errors":false,"retryable":false,"cancelable":true,"failure_reason":false,"detached_merge_request_pipeline":false,"merge_request_pipeline":false,"latest":true},"commit_id":"2554ef811bddbf1a90a55b8dd12f7c0c8eb959c1","variables":{"WORKFLOW":"deploy","DEPLOY_ENVIRONMENT":"az-20230921t175856209z","BLUEPRINT_PROJECT_URL":"http://tunnel.abreidenbach.com:3000/onecommons/blueprints/nestedcloud.git","DEPLOY_PATH":"environments/az-20230921t175856209z/onecommons/blueprints/nestedcloud/nestedcloud-azure-1","DEPLOYMENT":"nestedcloud-azure-1","DEPLOYMENT_BLUEPRINT":"azure"},"upstream_commit_id":null,"upstream_pipeline_id":null,"upstream_project_id":null}],"environment":"az-20230921t175856209z","incremental_deploy":true}}}
